import{j as e,r as b,m as v,L as _}from"./app-qIQ7IDh-.js";import N from"./BreadcrumbsHeader-DJiRh6C_.js";import{S as w}from"./AdminLayout-_rQutR9r.js";import{T as C,t as u}from"./index-CSRkQMHo.js";import{I as o}from"./InputLabel-BERaxW3C.js";import{T as m}from"./TextInput-HoKBcse2.js";import{I as i}from"./InputError-X9OUwrPU.js";import{P as k}from"./PrimaryButton-CAzI9Vi2.js";import"./breadcrumb-ClEeUCyG.js";import"./button-BfrawzaZ.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./chevron-right-opMbK2PD.js";import"./createLucideIcon-BfPbDvGd.js";import"./sidebar-_Csff4rX.js";import"./input-CUxmsB_K.js";import"./index-DgkjhZpM.js";import"./index-CczSKsTO.js";import"./floating-ui.react-dom-CxNnqrK8.js";import"./x-DASonJQW.js";import"./tooltip-lpRyLyg7.js";import"./nav-user-Bs-bErxJ.js";import"./avatar-UAvF2-7y.js";import"./dropdown-menu-D2Wifm12.js";import"./check-CYXhCgKq.js";import"./stringFormat-Dx_XIxG1.js";import"./useAppUrl-DAGftJCm.js";import"./DeleteConfirmationModal-5mon5EiH.js";import"./file-text-CqTlswnC.js";import"./users-round-CHlmtbBl.js";import"./heart-pulse-Bz4H3bon.js";import"./chevron-up-PxGaJMxl.js";function B({className:t="",data:s,setData:l,errors:r,submit:c,processing:d,recentlySuccessful:x}){return e.jsxs("section",{className:`${t} px-4 sm:px-6 lg:px-8 py-8 bg-gray-50 min-h-screen`,children:[e.jsxs("header",{className:"mb-8 text-center md:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:"Barangay Profile"}),e.jsx("p",{className:"mt-2 text-gray-600 text-sm sm:text-base",children:"Update your barangay's profile information, contact details, and logo."})]}),e.jsxs("form",{onSubmit:c,className:"space-y-8 w-full max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-md space-y-6 w-full",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"General Information"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:items-start",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-3 bg-white p-4 rounded-xl shadow-sm md:w-1/4",children:[e.jsx(o,{htmlFor:"logo_path",value:"Barangay Logo"}),e.jsx("img",{src:s.preview_logo?s.preview_logo.startsWith("blob:")?s.preview_logo:`/storage/${s.preview_logo}`:"/images/default-avatar.jpg",alt:"Barangay Logo",className:"w-32 h-32 object-cover rounded-full border border-gray-200"}),e.jsx("input",{type:"file",id:"logo",accept:"image/*",onChange:a=>{const n=a.target.files[0];n&&(l("logo_path",n),l("preview_logo",URL.createObjectURL(n)))},className:"block w-full text-sm text-gray-500 file:mr-2 file:py-1 file:px-3 file:rounded file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),r.logo_path&&e.jsx("p",{className:"text-red-500 text-xs",children:r.logo_path}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Upload the barangay logo. Preview updates automatically."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 md:flex-1",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"barangay_name",value:"Barangay Name"}),e.jsx(m,{id:"barangay_name",className:"mt-1 block w-full",value:s.barangay_name||"",onChange:a=>l("barangay_name",a.target.value),required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Official name of the barangay."}),e.jsx(i,{className:"mt-2",message:r.barangay_name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"barangay_type",value:"Barangay Type"}),e.jsxs("select",{id:"barangay_type",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm",value:s.barangay_type||"",onChange:a=>l("barangay_type",a.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"urban",children:"Urban"}),e.jsx("option",{value:"rural",children:"Rural"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Classify as urban or rural."}),e.jsx(i,{className:"mt-2",message:r.barangay_type})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"founded_year",value:"Founded Year"}),e.jsx(m,{id:"founded_year",type:"number",className:"mt-1 block w-full",value:s.founded_year||"",onChange:a=>l("founded_year",a.target.value)}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Year the barangay was officially established."}),e.jsx(i,{className:"mt-2",message:r.founded_year})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"area_sq_km",value:"Area (sq. km)"}),e.jsx(m,{id:"area_sq_km",type:"number",step:"0.01",className:"mt-1 block w-full",value:s.area_sq_km||"",onChange:a=>l("area_sq_km",a.target.value)}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Total land area of the barangay."}),e.jsx(i,{className:"mt-2",message:r.area_sq_km})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"barangay_code",value:"Barangay Code"}),e.jsx(m,{id:"barangay_code",className:"mt-1 block w-full",value:s.barangay_code||"",onChange:a=>l("barangay_code",a.target.value)}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Optional internal code."}),e.jsx(i,{className:"mt-2",message:r.barangay_code})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-md space-y-6 w-full",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"city",value:"City"}),e.jsx(m,{id:"city",className:"mt-1 block w-full",value:s.city||"",onChange:a=>l("city",a.target.value),required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"City where the barangay is located."}),e.jsx(i,{className:"mt-2",message:r.city})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"province",value:"Province"}),e.jsx(m,{id:"province",className:"mt-1 block w-full",value:s.province||"",onChange:a=>l("province",a.target.value),required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Province of the barangay."}),e.jsx(i,{className:"mt-2",message:r.province})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"zip_code",value:"ZIP Code"}),e.jsx(m,{id:"zip_code",className:"mt-1 block w-full",value:s.zip_code||"",onChange:a=>l("zip_code",a.target.value),required:!0}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Postal code."}),e.jsx(i,{className:"mt-2",message:r.zip_code})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"contact_number",value:"Contact Number"}),e.jsx(m,{id:"contact_number",className:"mt-1 block w-full",value:s.contact_number||"",onChange:a=>l("contact_number",a.target.value)}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Phone or contact number for the barangay office."}),e.jsx(i,{className:"mt-2",message:r.contact_number})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",value:"Email"}),e.jsx(m,{id:"email",type:"email",className:"mt-1 block w-full",value:s.email||"",onChange:a=>l("email",a.target.value)}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Official email address."}),e.jsx(i,{className:"mt-2",message:r.email})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(k,{type:"submit",disabled:d,className:"bg-blue-700 hover:bg-blue-600",children:"Save Changes"})})]})]})}function oe({barangay:t}){const s=[{label:"Barangay Information",showOnMobile:!1},{label:"Profile",showOnMobile:!1}],[l,r]=b.useState(!1),{data:c,setData:d,post:x,processing:a,errors:n}=v({barangay_name:t.barangay_name||"",city:t.city||"",province:t.province||"",zip_code:t.zip_code||"",contact_number:t.contact_number||"",area_sq_km:t.area_sq_km||"",email:t.email||"",founded_year:t.founded_year||"",barangay_code:t.barangay_code||"",barangay_type:t.barangay_type||"",logo_path:null,preview_logo:t.logo_path||"",_method:"PUT"}),p=g=>{g.preventDefault(),x(route("barangay_profile.update",t.id),{forceFormData:!0,onSuccess:()=>{u.success("Barangay profile updated successfully!",{description:"The changes have been saved.",duration:3e3,closeButton:!0}),setTimeout(()=>window.location.reload(),1e3)},onError:h=>{const y=Object.values(h).map((f,j)=>`<div key=${j}>${f}</div>`);u.error("Validation Error",{description:e.jsx("div",{dangerouslySetInnerHTML:{__html:y.join("")}}),duration:4e3,closeButton:!0})}})};return e.jsxs(w,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Barangay Profile"}),children:[e.jsx(_,{title:"Barangay Profile"}),e.jsx(C,{richColors:!0}),e.jsx(N,{breadcrumbs:s}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl space-y-6 sm:px-6 lg:px-8",children:e.jsx(B,{className:"bg-white p-6 rounded-xl shadow",data:c,setData:d,errors:n,submit:p,processing:a,recentlySuccessful:l})})})]})}export{oe as default};
