import{j as i,L as v,S as f}from"./app-D0WVKLKd.js";import{S as y}from"./AdminLayout-LPj9BVxj.js";import k from"./BreadcrumbsHeader-DsjS4NHA.js";import{B as x}from"./BarangayFilterCard-iCMtlceR.js";import h from"./DynamicTable-nkEWIUkm.js";import{T as g}from"./TableSection-DGHoZnDf.js";import{N as j}from"./NoDataPlaceholder-CmvfR9yX.js";import{A as P}from"./archive-ZAjrVn11.js";import"./sidebar-CVf3RoPK.js";import"./button-CDuFelg8.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./input-DCYMM68T.js";import"./index-IZEpNL25.js";import"./index-DjM59Ek2.js";import"./floating-ui.react-dom-BmdpV9kz.js";import"./x-C2uLvOVM.js";import"./createLucideIcon-BdU-gxC3.js";import"./tooltip-ChBe5MCd.js";import"./nav-user-BNwEikok.js";import"./avatar-BSR3ryYp.js";import"./dropdown-menu-BYbC5jtm.js";import"./check-pzaLhww3.js";import"./chevron-right-BLjWQ8rZ.js";import"./useAppUrl-BckSnTts.js";import"./index-CIw-Cudr.js";import"./DeleteConfirmationModal-YKArv7qe.js";import"./file-text-C-AUvb4V.js";import"./users-round-DmIi-Syq.js";import"./heart-pulse-39ahRpnl.js";import"./chevron-up-DvfV1hbt.js";import"./breadcrumb-CgsFXaDh.js";import"./SelectField-GHGNwMZy.js";import"./card-DpswFL2G.js";function ta({inventoryData:t=[],barangays:m=[],selectedBarangay:o,tip:d}){var s;const c=[{label:"CRA",showOnMobile:!0},{label:"Evacuation Inventories",showOnMobile:!0}],_=n=>{const l=n.target.value;f.get(route("cdrrmo_admin.evacuationinven"),l?{barangay_id:l}:{})},p=((s=m.find(n=>n.id==o))==null?void 0:s.name)||"Unknown",u=!t||t.length===0;return i.jsxs(y,{children:[i.jsx(v,{title:"Evacuation Inventories"}),i.jsx(k,{breadcrumbs:c}),i.jsx("div",{className:"pt-8 pb-2 min-h-screen bg-gray-50",children:i.jsxs("div",{className:"mx-auto w-full",children:[i.jsx(x,{selectedBarangay:o,handleBarangayChange:_,barangays:m}),u?i.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:i.jsx(j,{tip:d||"Select a barangay to view evacuation inventory per purok."})}):(()=>{const n=t.filter(e=>e.barangay_id===o).flatMap(e=>e.puroks.map((a,b)=>({number:b+1,purok_number:a.purok_number,total_families:a.total_families,total_individuals:a.total_individuals,families_at_risk:a.families_at_risk,individuals_at_risk:a.individuals_at_risk,plan_a_center:a.plan_a_center,plan_a_capacity_families:a.plan_a_capacity_families,plan_a_capacity_individuals:a.plan_a_capacity_individuals,plan_a_unaccommodated_families:a.plan_a_unaccommodated_families,plan_a_unaccommodated_individuals:a.plan_a_unaccommodated_individuals,plan_b_center:a.plan_b_center,plan_b_unaccommodated_families:a.plan_b_unaccommodated_families,plan_b_unaccommodated_individuals:a.plan_b_unaccommodated_individuals,remarks:a.remarks}))),l=[{key:"number",label:"No."},{key:"purok_number",label:"Purok"},{key:"total_families",label:"Total Families"},{key:"total_individuals",label:"Total Individuals"},{key:"families_at_risk",label:"Families at Risk"},{key:"individuals_at_risk",label:"Individuals at Risk"},{key:"plan_a_center",label:"Plan A Center"},{key:"plan_a_capacity_families",label:"Plan A Families Accommodated"},{key:"plan_a_capacity_individuals",label:"Plan A Individuals Accommodated"},{key:"plan_a_unaccommodated_families",label:"Plan A Families Unaccommodated"},{key:"plan_a_unaccommodated_individuals",label:"Plan A Individuals Unaccommodated"},{key:"plan_b_center",label:"Plan B Center"},{key:"plan_b_unaccommodated_families",label:"Plan B Families Unaccommodated"},{key:"plan_b_unaccommodated_individuals",label:"Plan B Individuals Unaccommodated"},{key:"remarks",label:"Remarks"}],r={};return l.forEach(e=>{r[e.key]=a=>i.jsx("span",{children:a[e.key]})}),i.jsx(g,{icon:i.jsx(P,{}),color:"blue",title:`Evacuation Inventory - Barangay ${p}`,description:"Evacuation inventory for all Puroks in this barangay",tableProps:{component:h,passedData:n,allColumns:l,columnRenderers:r,visibleColumns:l.map(e=>e.key),showTotal:!1,tableHeight:"900px"}})})()]})})]})}export{ta as default};
