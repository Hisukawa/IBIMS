import{j as i,L as v,S as f}from"./app-C4eYhi_l.js";import{S as y}from"./AdminLayout-BT7wF6Mc.js";import k from"./BreadcrumbsHeader-2D5rr_Ap.js";import{B as x}from"./BarangayFilterCard-Ddw94joD.js";import h from"./DynamicTable-B4xGkgzX.js";import{T as g}from"./TableSection-DOv6ZV8p.js";import{N as j}from"./NoDataPlaceholder-EpOuZ2_V.js";import{A as P}from"./archive-DIwyI5xA.js";import"./sidebar-B80sq0Kf.js";import"./button-DI-Cd1Gx.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./input-B1v_GmYX.js";import"./index-DeJaiS9l.js";import"./index-DZeuKxhq.js";import"./floating-ui.react-dom-nJuhhlFk.js";import"./x-DGTK5KZy.js";import"./createLucideIcon-ix0d0rI9.js";import"./tooltip-D15WLvEi.js";import"./nav-user-D7t2WIAG.js";import"./avatar-WRU7l1Ef.js";import"./dropdown-menu-B0oOdoOV.js";import"./check-BP_4wZ21.js";import"./chevron-right-Cm2R-uMO.js";import"./stringFormat-Dx_XIxG1.js";import"./useAppUrl-B_lHPlr5.js";import"./index-BFcuYs35.js";import"./DeleteConfirmationModal-DcpGqNMw.js";import"./file-text-BhJx6_pw.js";import"./users-round-D6dnzBtP.js";import"./heart-pulse-C0ARj-oW.js";import"./chevron-up-BkPfmUJf.js";import"./breadcrumb-B0lL97FL.js";import"./SelectField-B2mdO7LT.js";import"./card-DkowBhkC.js";function oa({inventoryData:t=[],barangays:m=[],selectedBarangay:o,tip:d}){var s;const c=[{label:"CRA",showOnMobile:!0},{label:"Evacuation Inventories",showOnMobile:!0}],_=n=>{const l=n.target.value;f.get(route("cdrrmo_admin.evacuationinven"),l?{barangay_id:l}:{})},p=((s=m.find(n=>n.id==o))==null?void 0:s.name)||"Unknown",u=!t||t.length===0;return i.jsxs(y,{children:[i.jsx(v,{title:"Evacuation Inventories"}),i.jsx(k,{breadcrumbs:c}),i.jsx("div",{className:"pt-8 pb-2 min-h-screen bg-gray-50",children:i.jsxs("div",{className:"mx-auto w-full",children:[i.jsx(x,{selectedBarangay:o,handleBarangayChange:_,barangays:m}),u?i.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:i.jsx(j,{tip:d||"Select a barangay to view evacuation inventory per purok."})}):(()=>{const n=t.filter(e=>e.barangay_id===o).flatMap(e=>e.puroks.map((a,b)=>({number:b+1,purok_number:a.purok_number,total_families:a.total_families,total_individuals:a.total_individuals,families_at_risk:a.families_at_risk,individuals_at_risk:a.individuals_at_risk,plan_a_center:a.plan_a_center,plan_a_capacity_families:a.plan_a_capacity_families,plan_a_capacity_individuals:a.plan_a_capacity_individuals,plan_a_unaccommodated_families:a.plan_a_unaccommodated_families,plan_a_unaccommodated_individuals:a.plan_a_unaccommodated_individuals,plan_b_center:a.plan_b_center,plan_b_unaccommodated_families:a.plan_b_unaccommodated_families,plan_b_unaccommodated_individuals:a.plan_b_unaccommodated_individuals,remarks:a.remarks}))),l=[{key:"number",label:"No."},{key:"purok_number",label:"Purok"},{key:"total_families",label:"Total Families"},{key:"total_individuals",label:"Total Individuals"},{key:"families_at_risk",label:"Families at Risk"},{key:"individuals_at_risk",label:"Individuals at Risk"},{key:"plan_a_center",label:"Plan A Center"},{key:"plan_a_capacity_families",label:"Plan A Families Accommodated"},{key:"plan_a_capacity_individuals",label:"Plan A Individuals Accommodated"},{key:"plan_a_unaccommodated_families",label:"Plan A Families Unaccommodated"},{key:"plan_a_unaccommodated_individuals",label:"Plan A Individuals Unaccommodated"},{key:"plan_b_center",label:"Plan B Center"},{key:"plan_b_unaccommodated_families",label:"Plan B Families Unaccommodated"},{key:"plan_b_unaccommodated_individuals",label:"Plan B Individuals Unaccommodated"},{key:"remarks",label:"Remarks"}],r={};return l.forEach(e=>{r[e.key]=a=>i.jsx("span",{children:a[e.key]})}),i.jsx(g,{icon:i.jsx(P,{}),color:"blue",title:`Evacuation Inventory - Barangay ${p}`,description:"Evacuation inventory for all Puroks in this barangay",tableProps:{component:h,passedData:n,allColumns:l,columnRenderers:r,visibleColumns:l.map(e=>e.key),showTotal:!1,tableHeight:"900px"}})})()]})})]})}export{oa as default};
