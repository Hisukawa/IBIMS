import{j as e,L as f,S as d}from"./app-3QdW5r87.js";import{S as j}from"./AdminLayout-C4a3YOXT.js";import v from"./BreadcrumbsHeader-COlKl8Mv.js";import{T as N}from"./TableSection-DEoFKdbR.js";import w from"./DynamicTable-D6U0up0W.js";import{B as k}from"./BarangayFilterCard-JvcP4gaM.js";import{N as D}from"./NoDataPlaceholder-Ca1wNFNU.js";import{c as _}from"./createLucideIcon-C92Fjuo9.js";import"./sidebar-Cll2HSJb.js";import"./button-D1GSppH7.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./input-mH8RDteK.js";import"./index-DU1509dX.js";import"./index-Dhul-4nj.js";import"./floating-ui.react-dom-DyzEf5K-.js";import"./x-qSgYyDaC.js";import"./tooltip-CXX7q2Dq.js";import"./nav-user-CjY_QEOo.js";import"./avatar-URJEIn-C.js";import"./dropdown-menu-Dia4YUdw.js";import"./check-DHzdFxUM.js";import"./chevron-right-D9h1JnF7.js";import"./stringFormat-Dx_XIxG1.js";import"./useAppUrl-IfrV4T5F.js";import"./index-DqUX5dWd.js";import"./DeleteConfirmationModal-Pp_84fm6.js";import"./file-text-C2Tm_ZfY.js";import"./users-round-C4n_3TIo.js";import"./heart-pulse-BL7NDwO8.js";import"./chevron-up-mgMc5Fdz.js";import"./breadcrumb-DYE0AYdE.js";import"./card-BHAwW_kP.js";import"./SelectField-D5fO91BA.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]],C=_("sprout",S);function pe({disasterAgriData:s,overallDisasterAgriData:M=[],barangays:c=[],selectedBarangay:l,tip:T=null,queryParams:n}){const p=[{label:"Dashboard",showOnMobile:!0}];n=n||{},!s||s.length;const x=!s||s.length===0,h=o=>{const i=o.target.value;d.get(route("cdrrmo_admin.damageagri"),i?{barangay_id:i}:{})};return e.jsxs(j,{children:[e.jsx(f,{title:"Agricultural Damages Dashboard"}),e.jsx(v,{breadcrumbs:p}),e.jsx("div",{className:"pt-8 pb-2 min-h-screen bg-gray-50",children:e.jsxs("div",{className:"mx-auto w-full",children:[e.jsx(k,{selectedBarangay:l,handleBarangayChange:h,barangays:c}),l?x?e.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:e.jsx(D,{tip:"Use the year selector above to navigate to a year with available data."})}):s.map((o,i)=>{const b=o.disasters.reduce((r,a)=>(r[a.disaster_id]||(r[a.disaster_id]=[]),r[a.disaster_id].push(a),r),{});return Object.entries(b).map(([r,a],$)=>{const m=[{key:"description",label:"Description"},{key:"value",label:"Value"},{key:"source",label:"Source"}],u={description:t=>e.jsx("span",{className:"text-gray-700",children:t.description}),value:t=>e.jsx("span",{className:"font-bold text-green-600",children:t.value}),source:t=>e.jsx("span",{className:"text-gray-700",children:t.source})},g=a[0].disaster_name,y=a[0].year;return e.jsx(N,{icon:e.jsx(C,{}),color:"emerald",title:`${g} in ${o.barangay_name} (${y})`,description:"Damage details for this barangay",tableProps:{component:w,passedData:a,allColumns:m,columnRenderers:u,visibleColumns:m.map(t=>t.key),showTotal:!0,tableHeight:"400px"}},`${i}-${r}`)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center mt-15 bg-gradient-to-br from-gray-50 to-gray-100 p-12 rounded-3xl shadow-xl border border-gray-200 hover:border-gray-300 transition-all duration-300",children:[e.jsx("img",{src:"/images/chart_error.png",alt:"No data",className:"w-48 h-48 mb-6 animate-bounce"}),e.jsx("h2",{className:"text-3xl font-extrabold text-gray-800 mb-3 text-center",children:"No Data Available"}),e.jsxs("p",{className:"text-gray-700 text-center mb-3 max-w-xl text-base leading-relaxed",children:["To view disaster population impact data, please"," ",e.jsx("span",{className:"font-bold text-blue-600",children:"select a barangay"})," ","from the dropdown above. Only barangays with recorded disaster impact data for the chosen year will display results."]}),e.jsx("p",{className:"text-gray-600 text-center mb-6 max-w-xl text-sm italic leading-relaxed",children:"Ensure the data for the selected barangay has been properly recorded in the system. Once selected, the dashboard will display accurate statistics and affected population information."}),e.jsx("button",{onClick:()=>d.reload(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition transform hover:scale-105 hover:shadow-lg",children:"Refresh Page"})]})]})})]})}export{pe as default};
