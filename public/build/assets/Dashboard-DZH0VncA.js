import{K as u,r as c,j as s,L as p,a as d}from"./app-FQbzxGIw.js";import f from"./BreadcrumbsHeader-BKQz8BHC.js";import{S as x}from"./AdminLayout-D681-fmM.js";import{t as i,T as h}from"./index-CMTh6Y7Z.js";import{u as j}from"./useQuery-BUun7Gfb.js";import{u as g}from"./useAppUrl-zATTBKeL.js";import"./breadcrumb-CZJEnQm8.js";import"./button-9tywdtpe.js";import"./clsx-B-dksMZM.js";import"./chevron-right-KG4eDgaU.js";import"./createLucideIcon-CbmRPBK-.js";import"./sidebar-kMsPs0kt.js";import"./input-BxejiG4V.js";import"./index-D9GFQlD6.js";import"./index-BvtReL5S.js";import"./floating-ui.react-dom-Bv5Tn9NB.js";import"./x-SzE7BJuj.js";import"./skeleton-C5JXX0Vb.js";import"./tooltip-D5qIOJrT.js";import"./nav-user-NQ1-22E_.js";import"./avatar-B4QdFqbk.js";import"./dropdown-menu-Mj4r6j7K.js";import"./check-KP9WahT6.js";import"./users-round-fHMLq3qJ.js";import"./chevron-up-D1MoY1rl.js";function Q(){const m=[{label:"Community Risk Assessment (CRA)",showOnMobile:!1}],l=g(),t=u().props,o=(t==null?void 0:t.success)??null;t==null||t.error;const{data:r,isLoading:e,isError:a}=j({queryKey:["datacollection"],queryFn:async()=>{const{data:n}=await d.get(`${l}/cra/datacollection`);return n},staleTime:1e3*60*5});return c.useEffect(()=>{e&&console.log("Fetching data..."),a&&i.error("Failed to fetch data!"),r&&(console.log("API Data:",r),i.success("Data loaded successfully!"))},[e,a,r]),c.useEffect(()=>{o&&i.success(o,{description:"Operation successful!",duration:3e3,closeButton:!0}),t.success=null},[o]),s.jsxs(x,{children:[s.jsx(h,{richColors:!0}),s.jsx(p,{title:"CRA"}),s.jsx(f,{breadcrumbs:m}),s.jsxs("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8 mt-6",children:[e&&s.jsx("p",{children:"Loading..."}),a&&s.jsx("p",{className:"text-red-500",children:"Error loading data."}),r&&s.jsx("pre",{children:JSON.stringify(r,null,2)})]})]})}export{Q as default};
