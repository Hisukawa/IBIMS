<<<<<<<< HEAD:public/build/assets/Index-Dhc4Awky.js
import{K,r as o,j as t,L as H,$ as V,S as h,a as X}from"./app-CxQIk-Ug.js";import{S as Y}from"./AdminLayout-Ch0RJaaH.js";import{B as N}from"./button-eWlrO1vI.js";import{I as G}from"./input-C3invO0g.js";import P from"./BreadcrumbsHeader-ztKk4f-G.js";import{t as S,T as W}from"./index-BxD4ZtM3.js";import Q from"./DynamicTable-CqqNB_Qd.js";import J from"./ActionMenu-BbqZ2nO_.js";import{e as Z,R as q,b as ee}from"./constants-DEVjsWMH.js";import te from"./SidebarModal-BwBQKpMA.js";import se from"./DynamicTableControls-BBZXxs2q.js";import{F as re}from"./FillterToggle-DxBAgWQx.js";import{u as oe}from"./useAppUrl-CjqOY4Q6.js";import ae from"./PersonDetailContent-DCjK3wlL.js";import le from"./DeleteConfirmationModal-BIRqOANr.js";import{E as ie}from"./ExportButton-CE8gFddm.js";import{S as ne}from"./search-CXT4UFH7.js";import{L as ce}from"./list-plus-CG1NM5AP.js";import{E as de}from"./eye-J4ZcBwFV.js";import{S as me}from"./square-pen-BRCyuNmj.js";import{T as pe}from"./trash-2-BAENtbzN.js";import"./sidebar-CmbCP2Gp.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./index-a0Ptbf1R.js";import"./index-D20yT8t5.js";import"./floating-ui.react-dom-CDryE2et.js";import"./x-CoOb-UyO.js";import"./createLucideIcon-DUzL0oSb.js";import"./skeleton-DNA1kKC7.js";import"./tooltip-DJWjtVs0.js";import"./nav-user-CUeqll6F.js";import"./avatar-CT_f4ETp.js";import"./dropdown-menu-BIG2J05K.js";import"./check-BlEJph0r.js";import"./chevron-right-9pm6d_Wd.js";import"./users-round-Dhttk4ok.js";import"./heart-pulse-DEWB0aq-.js";import"./chevron-up-DDsNXP0q.js";import"./breadcrumb-ZXvPNnk5.js";import"./ellipsis-lwZyIBcE.js";import"./iconBase-CyZ4dN64.js";import"./index-DYSEvW9_.js";import"./index-CHuq8Fb5.js";import"./file-output-DqEtO73h.js";function nt({medical_information:v,puroks:E,queryParams:r}){const C=[{label:"Residents Information",showOnMobile:!1},{label:"Medical Information",showOnMobile:!0}];r=r||{};const D=oe(),l=K().props,n=(l==null?void 0:l.success)??null,c=(l==null?void 0:l.error)??null,[R,d]=o.useState(!1),[b,T]=o.useState(null),[g,I]=o.useState(r.name??""),[M,m]=o.useState(!1),[f,_]=o.useState(null),O=e=>{e.preventDefault(),p("name",g)},p=(e,s)=>{s&&s.trim()!==""?r[e]=s:delete r[e],r.page&&delete r.page,h.get(route("medical.index",r))},A=(e,s)=>{if(s.key==="Enter")p(e,s.target.value);else return},u=[{key:"id",label:"ID"},{key:"name",label:"Resident Name"},{key:"weight_kg",label:"Weight (kg)"},{key:"height_cm",label:"Height (cm)"},{key:"sex",label:"Sex"},{key:"nutrition_status",label:"Nutritional Status"},{key:"blood_type",label:"Blood Type"},{key:"emergency_contact_number",label:"Emergency Contact Number"},{key:"is_smoker",label:"Smoker?"},{key:"is_alcohol_user",label:"Alcohol User?"},{key:"philhealth_id_number",label:"PhilHealth ID"},{key:"is_pwd",label:"Is PWD?"},{key:"purok_number",label:"Purok Number"},{key:"actions",label:"Actions"}],[y,F]=o.useState(u.map(e=>e.key)),[ue,xe]=o.useState(!0),[he,be]=o.useState(!1),x=Object.entries(r||{}).some(([e,s])=>["purok","sex","nutritional_status","blood_type","is_smoker","alcohol_user","has_philhealth","is_pwd"].includes(e)&&s&&s!=="");o.useEffect(()=>{x&&j(!0)},[x]);const[w,j]=o.useState(x),B={id:e=>e.id,name:e=>{const s=e.resident??{};return t.jsxs("span",{children:[s.firstname," ",s.middlename??""," ",s.lastname," ",s.suffix??""]})},weight_kg:e=>e.weight_kg??"—",height_cm:e=>e.height_cm??"—",sex:e=>{const s=e.resident.sex,i=q[s]??"Unknown",a=ee[s]??"bg-gray-300";return t.jsx("span",{className:`py-1 px-2 rounded-xl text-sm font-medium whitespace-nowrap ${a}`,children:i})},nutrition_status:e=>{const s=e.nutrition_status,i=Z[s]??"—";let a="";switch(s){case"normal":a="bg-green-100 text-green-800 p-1 rounded";break;case"underweight":case"severly_underweight":a="bg-yellow-100 text-yellow-800 p-1 rounded";break;case"overweight":a="bg-orange-100 text-orange-800 p-1 rounded";break;case"obese":a="bg-red-100 text-red-800 p-1 rounded";break;default:a="bg-gray-100 text-gray-800 p-1 rounded"}return t.jsx("span",{className:a,children:i})},blood_type:e=>e.blood_type??"—",emergency_contact_number:e=>e.emergency_contact_number??"—",is_pwd:e=>{var a,k;const s=(((k=(a=e.resident)==null?void 0:a.disabilities)==null?void 0:k.length)??0)>0,i=s?"bg-green-100 text-green-800 px-2 py-1 rounded":"bg-gray-100 text-gray-800 px-2 py-1 rounded";return t.jsx("span",{className:i,children:s?"Yes":"No"})},is_smoker:e=>e.is_smoker?t.jsx("span",{className:"text-red-500",children:"Yes"}):t.jsx("span",{className:"text-gray-500",children:"No"}),is_alcohol_user:e=>e.is_alcohol_user?t.jsx("span",{className:"text-red-500",children:"Yes"}):t.jsx("span",{className:"text-gray-500",children:"No"}),philhealth_id_number:e=>e.philhealth_id_number??"—",purok_number:e=>{var s;return((s=e.resident)==null?void 0:s.purok_number)??"—"},actions:e=>t.jsx(J,{actions:[{label:"View",icon:t.jsx(de,{className:"w-4 h-4 text-indigo-600"}),onClick:()=>z(e.resident.id)},{label:"Edit",icon:t.jsx(me,{className:"w-4 h-4 text-green-500"}),onClick:()=>{h.get(route("medical.edit",e.id))}},{label:"Delete",icon:t.jsx(pe,{className:"w-4 h-4 text-red-600"}),onClick:()=>U(e.id)}]})},L=()=>{m(!1),_(null)},U=e=>{T(e),d(!0)},$=()=>{h.delete(route("medical.destroy",b)),d(!1)},z=async e=>{try{const s=await X.get(`${D}/resident/showresident/${e}`);_(s.data.resident)}catch(s){console.error("Error fetching placeholders:",s)}m(!0)};return o.useEffect(()=>{n&&(L(),S.success(n,{description:"Operation successful!",duration:3e3,closeButton:!0})),l.success=null},[n]),o.useEffect(()=>{c&&S.error(c,{description:"Operation failed!",duration:3e3,closeButton:!0}),l.error=null},[c]),t.jsxs(Y,{children:[t.jsx(H,{title:"Medical Information"}),t.jsxs("div",{children:[t.jsx(W,{richColors:!0}),t.jsx(P,{breadcrumbs:C}),t.jsx("div",{className:"p-2 md:p-4",children:t.jsx("div",{className:"mx-auto max-w-8xl px-2 sm:px-4 lg:px-6",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 m-0",children:[t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2 w-full mb-0",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[t.jsx(se,{allColumns:u,visibleColumns:y,setVisibleColumns:F,showFilters:w,toggleShowFilters:()=>j(e=>!e)}),t.jsx(ie,{url:"report/export-medical-excel",queryParams:r,label:"Export Summon Records as XLSX"})]}),t.jsx("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:t.jsxs("form",{onSubmit:O,className:"flex w-[300px] max-w-lg items-center space-x-1",children:[t.jsx(G,{type:"text",placeholder:"Search Resident Name",value:g,onChange:e=>I(e.target.value),onKeyDown:e=>A("name",e.target.value),className:"w-full"}),t.jsxs("div",{className:"relative group z-50",children:[t.jsx(N,{type:"submit",className:"border active:bg-blue-900 border-blue-300 text-blue-700 hover:bg-blue-600 hover:text-white flex items-center gap-2 bg-transparent",variant:"outline",children:t.jsx(ne,{})}),t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 rounded-md bg-blue-700 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:"Search"})]}),t.jsx("div",{className:"relative group z-50",children:t.jsxs(V,{href:route("medical.create"),children:[t.jsx(N,{variant:"outline",className:"flex items-center gap-2 border-blue-300 text-blue-700 hover:bg-blue-600 hover:text-white",type:"button",children:t.jsx(ce,{})}),t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 rounded-md bg-blue-700 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:"Add Medical Information"})]})})]})})]}),w&&t.jsx(re,{queryParams:r,searchFieldName:p,visibleFilters:["purok","sex","nutritional_status","blood_type","is_smoker","alcohol_user","has_philhealth","is_pwd"],puroks:E,showFilters:!0,clearRouteName:"medical.index",clearRouteParams:{}}),t.jsx(Q,{passedData:v,allColumns:u,columnRenderers:B,queryParams:r,visibleColumns:y,showTotal:!0})]})})}),t.jsx(te,{isOpen:M,onClose:()=>m(!1),title:"Resident Details",children:f&&t.jsx(ae,{person:f})}),t.jsx(le,{isOpen:R,onClose:()=>{d(!1)},onConfirm:$,residentId:b})]})]})}export{nt as default};
========
import{K,r as o,j as t,L as H,$ as V,S as h,a as X}from"./app-D2VBHUnE.js";import{S as Y}from"./AdminLayout-BvapmRau.js";import{B as N}from"./button-JXF2cuM-.js";import{I as G}from"./input-CsX4RkmY.js";import P from"./BreadcrumbsHeader-D50VREse.js";import{t as S,T as W}from"./index-CmbHX13U.js";import Q from"./DynamicTable-XHjF8o-O.js";import J from"./ActionMenu-DEwdglpY.js";import{e as Z,R as q,b as ee}from"./constants-B2gvBLga.js";import te from"./SidebarModal-DNYbxHgQ.js";import se from"./DynamicTableControls-I3Z4kOWV.js";import{F as re}from"./FillterToggle-C9gZhFi5.js";import{u as oe}from"./useAppUrl-BohVm5NF.js";import ae from"./PersonDetailContent-Cnv6cDFd.js";import le from"./DeleteConfirmationModal-mSKtI5Ku.js";import{E as ie}from"./ExportButton-BHRHvK_-.js";import{S as ne}from"./search-D4RGGk5s.js";import{L as ce}from"./list-plus-DO7sqO6R.js";import{E as de}from"./eye-CHIr_NBw.js";import{S as me}from"./square-pen-D6Zluk2r.js";import{T as pe}from"./trash-2-Ix8CbBXs.js";import"./sidebar-MVOyybzj.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./index-6s3vvleY.js";import"./index-C2GEi9Oq.js";import"./floating-ui.react-dom-DwQNVWkT.js";import"./x-DtldsTYz.js";import"./createLucideIcon-qFzIO3KD.js";import"./skeleton-CZuzpLfI.js";import"./tooltip-Cb0wL2_a.js";import"./nav-user-BCj3xiYY.js";import"./avatar-7KytdQpz.js";import"./dropdown-menu-DG5UGZdM.js";import"./check-C5u2RFjT.js";import"./chevron-right-BJZaoRcX.js";import"./users-round-CjEM6b0u.js";import"./heart-pulse-Bpcsk9jC.js";import"./chevron-up-CnPsG_gG.js";import"./breadcrumb-D0WyvY7Z.js";import"./ellipsis-DAg75UxB.js";import"./iconBase-CwqvEYsG.js";import"./index-Bxj-GTwv.js";import"./index-DHbXjuq_.js";import"./file-output-QLtJnufa.js";function nt({medical_information:v,puroks:E,queryParams:r}){const C=[{label:"Residents Information",showOnMobile:!1},{label:"Medical Information",showOnMobile:!0}];r=r||{};const D=oe(),l=K().props,n=(l==null?void 0:l.success)??null,c=(l==null?void 0:l.error)??null,[R,d]=o.useState(!1),[b,T]=o.useState(null),[g,I]=o.useState(r.name??""),[M,m]=o.useState(!1),[f,_]=o.useState(null),O=e=>{e.preventDefault(),p("name",g)},p=(e,s)=>{s&&s.trim()!==""?r[e]=s:delete r[e],r.page&&delete r.page,h.get(route("medical.index",r))},A=(e,s)=>{if(s.key==="Enter")p(e,s.target.value);else return},u=[{key:"id",label:"ID"},{key:"name",label:"Resident Name"},{key:"weight_kg",label:"Weight (kg)"},{key:"height_cm",label:"Height (cm)"},{key:"sex",label:"Sex"},{key:"nutrition_status",label:"Nutritional Status"},{key:"blood_type",label:"Blood Type"},{key:"emergency_contact_number",label:"Emergency Contact Number"},{key:"is_smoker",label:"Smoker?"},{key:"is_alcohol_user",label:"Alcohol User?"},{key:"philhealth_id_number",label:"PhilHealth ID"},{key:"is_pwd",label:"Is PWD?"},{key:"purok_number",label:"Purok Number"},{key:"actions",label:"Actions"}],[y,F]=o.useState(u.map(e=>e.key)),[ue,xe]=o.useState(!0),[he,be]=o.useState(!1),x=Object.entries(r||{}).some(([e,s])=>["purok","sex","nutritional_status","blood_type","is_smoker","alcohol_user","has_philhealth","is_pwd"].includes(e)&&s&&s!=="");o.useEffect(()=>{x&&j(!0)},[x]);const[w,j]=o.useState(x),B={id:e=>e.id,name:e=>{const s=e.resident??{};return t.jsxs("span",{children:[s.firstname," ",s.middlename??""," ",s.lastname," ",s.suffix??""]})},weight_kg:e=>e.weight_kg??"—",height_cm:e=>e.height_cm??"—",sex:e=>{const s=e.resident.sex,i=q[s]??"Unknown",a=ee[s]??"bg-gray-300";return t.jsx("span",{className:`py-1 px-2 rounded-xl text-sm font-medium whitespace-nowrap ${a}`,children:i})},nutrition_status:e=>{const s=e.nutrition_status,i=Z[s]??"—";let a="";switch(s){case"normal":a="bg-green-100 text-green-800 p-1 rounded";break;case"underweight":case"severly_underweight":a="bg-yellow-100 text-yellow-800 p-1 rounded";break;case"overweight":a="bg-orange-100 text-orange-800 p-1 rounded";break;case"obese":a="bg-red-100 text-red-800 p-1 rounded";break;default:a="bg-gray-100 text-gray-800 p-1 rounded"}return t.jsx("span",{className:a,children:i})},blood_type:e=>e.blood_type??"—",emergency_contact_number:e=>e.emergency_contact_number??"—",is_pwd:e=>{var a,k;const s=(((k=(a=e.resident)==null?void 0:a.disabilities)==null?void 0:k.length)??0)>0,i=s?"bg-green-100 text-green-800 px-2 py-1 rounded":"bg-gray-100 text-gray-800 px-2 py-1 rounded";return t.jsx("span",{className:i,children:s?"Yes":"No"})},is_smoker:e=>e.is_smoker?t.jsx("span",{className:"text-red-500",children:"Yes"}):t.jsx("span",{className:"text-gray-500",children:"No"}),is_alcohol_user:e=>e.is_alcohol_user?t.jsx("span",{className:"text-red-500",children:"Yes"}):t.jsx("span",{className:"text-gray-500",children:"No"}),philhealth_id_number:e=>e.philhealth_id_number??"—",purok_number:e=>{var s;return((s=e.resident)==null?void 0:s.purok_number)??"—"},actions:e=>t.jsx(J,{actions:[{label:"View",icon:t.jsx(de,{className:"w-4 h-4 text-indigo-600"}),onClick:()=>z(e.resident.id)},{label:"Edit",icon:t.jsx(me,{className:"w-4 h-4 text-green-500"}),onClick:()=>{h.get(route("medical.edit",e.id))}},{label:"Delete",icon:t.jsx(pe,{className:"w-4 h-4 text-red-600"}),onClick:()=>U(e.id)}]})},L=()=>{m(!1),_(null)},U=e=>{T(e),d(!0)},$=()=>{h.delete(route("medical.destroy",b)),d(!1)},z=async e=>{try{const s=await X.get(`${D}/resident/showresident/${e}`);_(s.data.resident)}catch(s){console.error("Error fetching placeholders:",s)}m(!0)};return o.useEffect(()=>{n&&(L(),S.success(n,{description:"Operation successful!",duration:3e3,closeButton:!0})),l.success=null},[n]),o.useEffect(()=>{c&&S.error(c,{description:"Operation failed!",duration:3e3,closeButton:!0}),l.error=null},[c]),t.jsxs(Y,{children:[t.jsx(H,{title:"Medical Information"}),t.jsxs("div",{children:[t.jsx(W,{richColors:!0}),t.jsx(P,{breadcrumbs:C}),t.jsx("div",{className:"p-2 md:p-4",children:t.jsx("div",{className:"mx-auto max-w-8xl px-2 sm:px-4 lg:px-6",children:t.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 m-0",children:[t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2 w-full mb-0",children:[t.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[t.jsx(se,{allColumns:u,visibleColumns:y,setVisibleColumns:F,showFilters:w,toggleShowFilters:()=>j(e=>!e)}),t.jsx(ie,{url:"report/export-medical-excel",queryParams:r,label:"Export Summon Records as XLSX"})]}),t.jsx("div",{className:"flex items-center gap-2 flex-wrap justify-end",children:t.jsxs("form",{onSubmit:O,className:"flex w-[300px] max-w-lg items-center space-x-1",children:[t.jsx(G,{type:"text",placeholder:"Search Resident Name",value:g,onChange:e=>I(e.target.value),onKeyDown:e=>A("name",e.target.value),className:"w-full"}),t.jsxs("div",{className:"relative group z-50",children:[t.jsx(N,{type:"submit",className:"border active:bg-blue-900 border-blue-300 text-blue-700 hover:bg-blue-600 hover:text-white flex items-center gap-2 bg-transparent",variant:"outline",children:t.jsx(ne,{})}),t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 rounded-md bg-blue-700 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:"Search"})]}),t.jsx("div",{className:"relative group z-50",children:t.jsxs(V,{href:route("medical.create"),children:[t.jsx(N,{variant:"outline",className:"flex items-center gap-2 border-blue-300 text-blue-700 hover:bg-blue-600 hover:text-white",type:"button",children:t.jsx(ce,{})}),t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-max px-3 py-1.5 rounded-md bg-blue-700 text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10",children:"Add Medical Information"})]})})]})})]}),w&&t.jsx(re,{queryParams:r,searchFieldName:p,visibleFilters:["purok","sex","nutritional_status","blood_type","is_smoker","alcohol_user","has_philhealth","is_pwd"],puroks:E,showFilters:!0,clearRouteName:"medical.index",clearRouteParams:{}}),t.jsx(Q,{passedData:v,allColumns:u,columnRenderers:B,queryParams:r,visibleColumns:y,showTotal:!0})]})})}),t.jsx(te,{isOpen:M,onClose:()=>m(!1),title:"Resident Details",children:f&&t.jsx(ae,{person:f})}),t.jsx(le,{isOpen:R,onClose:()=>{d(!1)},onConfirm:$,residentId:b})]})]})}export{nt as default};
>>>>>>>> 80c2705af2b118d58401176cb54388a976789fdd:public/build/assets/Index-C4a2TF7k.js
