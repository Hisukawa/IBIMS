import{c as le,j as i,$ as ae,r as re}from"./app-FQbzxGIw.js";import{c as ce}from"./createLucideIcon-CbmRPBK-.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m15 11-6 6",key:"1toa9n"}],["path",{d:"m9 11 6 6",key:"wlibny"}]],ue=ce("clipboard-x",de);var te={exports:{}},pe=te.exports,se;function he(){return se||(se=1,function(d,$){(function(H,y){d.exports=y(le())})(typeof self<"u"?self:pe,function(H){return function(){var y={155:function(e){e.exports=H}},j={};function h(e){var t=j[e];if(t!==void 0)return t.exports;var s=j[e]={exports:{}};return y[e](s,s.exports,h),s.exports}h.d=function(e,t){for(var s in t)h.o(t,s)&&!h.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},h.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},h.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var P={};h.r(P),h.d(P,{useReactToPrint:function(){return z}});var J=h(155);function c({level:e="error",messages:t,suppressErrors:s=!1}){s||(e==="error"?console.error(t):e==="warning"?console.warn(t):console.debug(t))}function G(e,t){if(t||!e){const s=document.getElementById("printWindow");s&&document.body.removeChild(s)}}function Y(e){return e instanceof Error?e:new Error("Unknown Error")}function Q(e,t){const{documentTitle:s,onAfterPrint:m,onPrintError:w,preserveAfterPrint:b,print:N,suppressErrors:x}=t;setTimeout(()=>{var f,g;if(e.contentWindow){let M=function(){m==null||m(),G(b)};if(e.contentWindow.focus(),N)N(e).then(M).catch(v=>{w?w("print",Y(v)):c({messages:["An error was thrown by the specified `print` function"],suppressErrors:x})});else{if(e.contentWindow.print){const v=(g=(f=e.contentDocument)===null||f===void 0?void 0:f.title)!==null&&g!==void 0?g:"",k=e.ownerDocument.title;s&&(e.ownerDocument.title=s,e.contentDocument&&(e.contentDocument.title=s)),e.contentWindow.print(),s&&(e.ownerDocument.title=k,e.contentDocument&&(e.contentDocument.title=v))}else c({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:x});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(v=>{var k,C;return((C=(k=navigator.userAgent)!==null&&k!==void 0?k:navigator.vendor)!==null&&C!==void 0?C:"opera"in window&&window.opera).match(v)})?setTimeout(M,500):M()}}else c({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:x})},500)}function ne(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let m=s.nextNode();for(;m;)t.push(m),m=s.nextNode();return t}function I(e,t,s){const m=ne(e),w=ne(t);if(m.length===w.length)for(let b=0;b<m.length;b++){const N=m[b],x=w[b],f=N.shadowRoot;if(f!==null){const g=x.attachShadow({mode:f.mode});g.innerHTML=f.innerHTML,I(f,g,s)}}else c({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",e,t],suppressErrors:s})}const oe=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function A(e,t,s,m){var w,b,N,x,f;const{contentNode:g,clonedContentNode:M,clonedImgNodes:v,clonedVideoNodes:k,numResourcesToLoad:C,originalCanvasNodes:K}=s,{bodyClass:X,fonts:R,ignoreGlobalStyles:Z,pageStyle:U,nonce:L,suppressErrors:l,copyShadowRoots:V}=m;e.onload=null;const a=(w=e.contentDocument)!==null&&w!==void 0?w:(b=e.contentWindow)===null||b===void 0?void 0:b.document;if(a){const W=a.body.appendChild(M);V&&I(g,W,!!l),R&&(!((N=e.contentDocument)===null||N===void 0)&&N.fonts&&(!((x=e.contentWindow)===null||x===void 0)&&x.FontFace)?R.forEach(o=>{const n=new FontFace(o.family,o.source,{weight:o.weight,style:o.style});e.contentDocument.fonts.add(n),n.loaded.then(()=>{t(n)}).catch(p=>{t(n,["Failed loading the font:",n,"Load error:",Y(p)])})}):(R.forEach(o=>{t(o)}),c({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:l})));const _=U??oe,q=a.createElement("style");L&&(q.setAttribute("nonce",L),a.head.setAttribute("nonce",L)),q.appendChild(a.createTextNode(_)),a.head.appendChild(q),X&&a.body.classList.add(...X.split(" "));const T=a.querySelectorAll("canvas");for(let o=0;o<K.length;++o){const n=K[o],p=T[o];if(p===void 0){c({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",n],suppressErrors:l});continue}const r=p.getContext("2d");r&&r.drawImage(n,0,0)}for(let o=0;o<v.length;o++){const n=v[o],p=n.getAttribute("src");if(p){const r=new Image;r.onload=()=>{t(n)},r.onerror=(u,E,B,S,O)=>{t(n,["Error loading <img>",n,"Error",O])},r.src=p}else t(n,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',n])}for(let o=0;o<k.length;o++){const n=k[o];n.preload="auto";const p=n.getAttribute("poster");if(p){const r=new Image;r.onload=()=>{t(n)},r.onerror=(u,E,B,S,O)=>{t(n,["Error loading video poster",p,"for video",n,"Error:",O])},r.src=p}else n.readyState>=2?t(n):n.src?(n.onloadeddata=()=>{t(n)},n.onerror=(r,u,E,B,S)=>{t(n,["Error loading video",n,"Error",S])},n.onstalled=()=>{t(n,["Loading video stalled, skipping",n])}):t(n,["Error loading video, `src` is empty",n])}const F="select",D=g.querySelectorAll(F),ee=a.querySelectorAll(F);for(let o=0;o<D.length;o++)ee[o].value=D[o].value;if(!Z){const o=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let n=0,p=o.length;n<p;++n){const r=o[n];if(r.tagName.toLowerCase()==="style"){const u=a.createElement(r.tagName),E=r.sheet;if(E){let B="";try{const S=E.cssRules.length;for(let O=0;O<S;++O)typeof E.cssRules[O].cssText=="string"&&(B+=`${E.cssRules[O].cssText}\r
`)}catch(S){c({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",r,`Original error: ${Y(S).message}`],level:"warning"})}u.setAttribute("id",`react-to-print-${n}`),L&&u.setAttribute("nonce",L),u.appendChild(a.createTextNode(B)),a.head.appendChild(u)}}else if(r.getAttribute("href"))if(r.hasAttribute("disabled"))c({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",r],level:"warning"}),t(r);else{const u=a.createElement(r.tagName);for(let E=0,B=r.attributes.length;E<B;++E){const S=r.attributes[E];S&&u.setAttribute(S.nodeName,(f=S.nodeValue)!==null&&f!==void 0?f:"")}u.onload=()=>{t(u)},u.onerror=(E,B,S,O,ie)=>{t(u,["Failed to load",u,"Error:",ie])},L&&u.setAttribute("nonce",L),a.head.appendChild(u)}else c({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",r],level:"warning"}),t(r)}}}C===0&&Q(e,m)}function z({bodyClass:e,contentRef:t,copyShadowRoots:s,documentTitle:m,fonts:w,ignoreGlobalStyles:b,nonce:N,onAfterPrint:x,onBeforePrint:f,onPrintError:g,pageStyle:M,preserveAfterPrint:v,print:k,suppressErrors:C}){return(0,J.useCallback)(K=>{function X(){const R={bodyClass:e,contentRef:t,copyShadowRoots:s,documentTitle:m,fonts:w,ignoreGlobalStyles:b,nonce:N,onAfterPrint:x,onPrintError:g,pageStyle:M,preserveAfterPrint:v,print:k,suppressErrors:C},Z=function(){const l=document.createElement("iframe");return l.width=`${document.documentElement.clientWidth}px`,l.height=`${document.documentElement.clientHeight}px`,l.style.position="absolute",l.style.top=`-${document.documentElement.clientHeight+100}px`,l.style.left=`-${document.documentElement.clientWidth+100}px`,l.id="printWindow",l.srcdoc="<!DOCTYPE html>",l}(),U=function(l,V){const{contentRef:a,fonts:W,ignoreGlobalStyles:_,suppressErrors:q}=V,T=function({contentRef:p,optionalContent:r,suppressErrors:u}){return!r||r instanceof Event||(p&&c({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof r!="function")?p?p.current:void c({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:u}):r()}({contentRef:a,optionalContent:l,suppressErrors:q});if(!T)return;const F=T.cloneNode(!0),D=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ee=F.querySelectorAll("img"),o=F.querySelectorAll("video"),n=W?W.length:0;return{contentNode:T,clonedContentNode:F,clonedImgNodes:ee,clonedVideoNodes:o,numResourcesToLoad:(_?0:D.length)+ee.length+o.length+n,originalCanvasNodes:T.querySelectorAll("canvas")}}(K,R);if(!U)return void c({messages:["There is nothing to print"],suppressErrors:C});const L=function(l,V,a){const{suppressErrors:W}=l,_=[],q=[];return function(T,F){_.includes(T)?c({level:"debug",messages:["Tried to mark a resource that has already been handled",T],suppressErrors:W}):(F?(c({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...F],suppressErrors:W}),q.push(T)):_.push(T),_.length+q.length===V&&Q(a,l))}}(R,U.numResourcesToLoad,Z);(function(l,V,a,W){l.onload=()=>{A(l,V,a,W)},document.body.appendChild(l)})(Z,L,U,R)}G(v,!0),f?f().then(()=>{X()}).catch(R=>{g==null||g("onBeforePrint",Y(R))}):X()},[e,t,s,m,w,b,N,x,f,g,M,v,k,C])}return P}()})}(te)),te.exports}var me=he();function fe({links:d,queryParams:$}){if($=$||{},!Array.isArray(d))return null;const H=y=>{if(!y.url)return null;const j=new URL(y.url,window.location.origin);for(const[h,P]of Object.entries($))h!=="page"&&j.searchParams.set(h,P);return j.pathname+j.search};return i.jsx("nav",{className:"text-center mt-4 space-x-1",children:d.map((y,j)=>{const h=H(y);return i.jsx(ae,{href:h||"#",className:"inline-block py-2 px-3 rounded-lg text-gray-700 text-xs "+(y.active?"bg-blue-400 text-white ":"")+(y.url?"hover:bg-blue-300 ":" !text-gray-400 cursor-not-allowed "),dangerouslySetInnerHTML:{__html:y.label}},j)})})}const be=({passedData:d,allColumns:$,columnRenderers:H,children:y,queryParams:j=null,showTotal:h=!1,visibleColumns:P=[]})=>{const J=re.useRef();me.useReactToPrint({content:()=>J.current});const c=Array.isArray(d==null?void 0:d.data)?d.data:d||[],[G,Y]=re.useState(null),[Q,ne]=re.useState("asc"),I=P??$.map(A=>A.key),oe=[...c].sort((A,z)=>{if(!G)return 0;const e=A[G]??"",t=z[G]??"";return typeof e=="number"&&typeof t=="number"?Q==="asc"?e-t:t-e:Q==="asc"?String(e).localeCompare(String(t)):String(t).localeCompare(String(e))});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-2",children:y}),i.jsxs("div",{className:"w-full overflow-x-auto border rounded-lg",children:[i.jsx("div",{className:"max-h-[800px] overflow-y-auto",children:i.jsxs("table",{ref:J,className:"table-auto w-full min-w-max",children:[i.jsx("thead",{className:"sticky top-0 z-5 bg-white shadow-md",children:i.jsx("tr",{children:$.map(A=>I.includes(A.key)&&i.jsx("th",{className:"bg-gray-100 text-gray-800 p-3 whitespace-nowrap text-wrap text-start text-sm font-semibold min-w-[60px] max-w-[100px]",children:A.label},A.key))})}),i.jsx("tbody",{children:c.length>0?oe.map((A,z)=>i.jsx("tr",{className:"border-b hover:bg-gray-50",children:$.map(e=>{var t;return I.includes(e.key)?i.jsx("td",{className:"py-2 px-3 whitespace-wrap text-wrap break-words text-sm text-gray-700 min-w-[60px] max-w-[100px]",children:((t=H[e.key])==null?void 0:t.call(H,A))??""},`${z}-${e.key}`):null})},z)):i.jsx("tr",{children:i.jsx("td",{colSpan:I.length,className:"text-center py-6 text-gray-500",children:i.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[i.jsx(ue,{className:"w-20 h-20 text-gray-400"}),i.jsx("span",{className:"text-md font-medium",children:"No records found"})]})})})})]})}),I.length===0?i.jsx("div",{className:"p-2 text-sm text-red-600 font-medium w-full text-center rounded-lg border border-gray-200 mt-4",children:"All columns are hidden."}):i.jsxs("div",{className:"my-2 px-4 flex items-center justify-between",children:[h&&i.jsxs("span",{className:"text-sm text-gray-700 bg-gray-100 px-2 mt-4 py-1 rounded-md",children:["Showing ",c.length," / ",(d==null?void 0:d.total)??c.length," records"]}),Array.isArray(d==null?void 0:d.links)&&d.links.length>0&&i.jsx(fe,{links:d.links,queryParams:j})]})]})]})};export{be as default};
