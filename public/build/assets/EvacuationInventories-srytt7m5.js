import{j as i,L as v,S as f}from"./app-DxWJy68w.js";import{S as y}from"./AdminLayout-D8Ps72rA.js";import k from"./BreadcrumbsHeader-DbDrFior.js";import{B as x}from"./BarangayFilterCard-DC7Rrykr.js";import h from"./DynamicTable-BK1U3zaR.js";import{T as g}from"./TableSection-DDGFOspk.js";import{N as j}from"./NoDataPlaceholder-_ftnkPNL.js";import{A as P}from"./archive-BEfoi4AS.js";import"./sidebar-BSKXqsLK.js";import"./button-Chl6-KiA.js";import"./clsx-B-dksMZM.js";import"./utils-CkmPJWYF.js";import"./input-DtDshIjk.js";import"./index-54JGyDF_.js";import"./index-CXBoLgVr.js";import"./floating-ui.react-dom-Ktk-pcFB.js";import"./x-DyzmMr9x.js";import"./createLucideIcon-B4siRqBz.js";import"./tooltip-CSd_BLs7.js";import"./nav-user-BjPxwuYw.js";import"./avatar-CBaq37Tc.js";import"./dropdown-menu-D91Sr7i5.js";import"./check-BI-cFjNm.js";import"./chevron-right-CSUUFsEi.js";import"./stringFormat-Dx_XIxG1.js";import"./useAppUrl-BOxehRy0.js";import"./index-B6ZNWBj9.js";import"./DeleteConfirmationModal-2egnMY28.js";import"./file-text-CkGKa75W.js";import"./users-round-Ct49baCK.js";import"./heart-pulse-DlYwj9JW.js";import"./chevron-up-C9E-yLcl.js";import"./breadcrumb-mU-CMrDC.js";import"./SelectField-hxXqNcGY.js";import"./card-B4XTkhmC.js";function oa({inventoryData:t=[],barangays:m=[],selectedBarangay:o,tip:d}){var s;const c=[{label:"CRA",showOnMobile:!0},{label:"Evacuation Inventories",showOnMobile:!0}],_=n=>{const l=n.target.value;f.get(route("cdrrmo_admin.evacuationinven"),l?{barangay_id:l}:{})},p=((s=m.find(n=>n.id==o))==null?void 0:s.name)||"Unknown",u=!t||t.length===0;return i.jsxs(y,{children:[i.jsx(v,{title:"Evacuation Inventories"}),i.jsx(k,{breadcrumbs:c}),i.jsx("div",{className:"pt-8 pb-2 min-h-screen bg-gray-50",children:i.jsxs("div",{className:"mx-auto w-full",children:[i.jsx(x,{selectedBarangay:o,handleBarangayChange:_,barangays:m}),u?i.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:i.jsx(j,{tip:d||"Select a barangay to view evacuation inventory per purok."})}):(()=>{const n=t.filter(e=>e.barangay_id===o).flatMap(e=>e.puroks.map((a,b)=>({number:b+1,purok_number:a.purok_number,total_families:a.total_families,total_individuals:a.total_individuals,families_at_risk:a.families_at_risk,individuals_at_risk:a.individuals_at_risk,plan_a_center:a.plan_a_center,plan_a_capacity_families:a.plan_a_capacity_families,plan_a_capacity_individuals:a.plan_a_capacity_individuals,plan_a_unaccommodated_families:a.plan_a_unaccommodated_families,plan_a_unaccommodated_individuals:a.plan_a_unaccommodated_individuals,plan_b_center:a.plan_b_center,plan_b_unaccommodated_families:a.plan_b_unaccommodated_families,plan_b_unaccommodated_individuals:a.plan_b_unaccommodated_individuals,remarks:a.remarks}))),l=[{key:"number",label:"No."},{key:"purok_number",label:"Purok"},{key:"total_families",label:"Total Families"},{key:"total_individuals",label:"Total Individuals"},{key:"families_at_risk",label:"Families at Risk"},{key:"individuals_at_risk",label:"Individuals at Risk"},{key:"plan_a_center",label:"Plan A Center"},{key:"plan_a_capacity_families",label:"Plan A Families Accommodated"},{key:"plan_a_capacity_individuals",label:"Plan A Individuals Accommodated"},{key:"plan_a_unaccommodated_families",label:"Plan A Families Unaccommodated"},{key:"plan_a_unaccommodated_individuals",label:"Plan A Individuals Unaccommodated"},{key:"plan_b_center",label:"Plan B Center"},{key:"plan_b_unaccommodated_families",label:"Plan B Families Unaccommodated"},{key:"plan_b_unaccommodated_individuals",label:"Plan B Individuals Unaccommodated"},{key:"remarks",label:"Remarks"}],r={};return l.forEach(e=>{r[e.key]=a=>i.jsx("span",{children:a[e.key]})}),i.jsx(g,{icon:i.jsx(P,{}),color:"blue",title:`Evacuation Inventory - Barangay ${p}`,description:"Evacuation inventory for all Puroks in this barangay",tableProps:{component:h,passedData:n,allColumns:l,columnRenderers:r,visibleColumns:l.map(e=>e.key),showTotal:!1,tableHeight:"900px"}})})()]})})]})}export{oa as default};
