import{j as e,r as d,K as Te,m as Ee,L as $e,S as q,a as L}from"./app-CrbrQTbj.js";import{S as Ae,H as De,T as Ie}from"./AdminLayout-AGCCpBdO.js";import Me from"./BreadcrumbsHeader-QIr5CkCm.js";import{t as Fe}from"./stringFormat-Dx_XIxG1.js";import{X as ie}from"./x-W7JH4u8u.js";import{M as Re}from"./map-pin-BY8p0ep5.js";import{c as Be}from"./createLucideIcon-Br_pg0F7.js";import{P as Le,M as Pe}from"./phone-BhtuJAl_.js";import{B as ee}from"./constants-21YuajDo.js";import Ve from"./SidebarModal-YPnsJtN5.js";import Xe from"./PersonDetailContent-CHdmwZCI.js";import{u as Ue}from"./useAppUrl-BoX8ZIym.js";import{I as y}from"./InputField-BbkDWR40.js";import{D as te}from"./DropdownInputField-CMMtDhQp.js";import{Y as se}from"./YearDropdown-DkEuwaPQ.js";import{I as ze}from"./InputLabel-BxmBhKTc.js";import{I as m}from"./InputError-Bd8w1lmi.js";import{S as _}from"./SelectField-MVO7OTbq.js";import{u as He}from"./handleResidentChange-CH1Em1kQ.js";import Ye from"./EditOfficialForm-BN-iuppR.js";import{T as Ge}from"./textarea-DliQ5oh5.js";import{t as h,T as Ke}from"./index-BygE6TMw.js";import{I as Je,a as Qe}from"./index-B31qz_Om.js";import We from"./DynamicTable-DI5CJAml.js";import Ze from"./ActionMenu-Bj6PFLpD.js";import{S as ae}from"./switch-8udcWX--.js";import qe from"./DeleteConfirmationModal-BuMSvNeY.js";import{B as et}from"./button-BWYVbxHt.js";import{P as tt}from"./nav-user-3vor-CPU.js";import{S as st}from"./square-pen-Bjaq9Z59.js";import{T as at}from"./trash-2-C2JBI4IX.js";import"./sidebar-BklaI4Dr.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./input-B0va7EqN.js";import"./index-9Tt-JjyO.js";import"./index-DIi6Z56V.js";import"./floating-ui.react-dom-nSB1FjTE.js";import"./tooltip-4ofyRQDl.js";import"./file-text-GKhMtBq5.js";import"./users-round-CDG1twOV.js";import"./heart-pulse-hj0nkcsT.js";import"./chevron-up-DHBx5s3E.js";import"./breadcrumb-BB2fnuWd.js";import"./chevron-right-Cio6xGfx.js";import"./iconBase-DA9IpKuN.js";import"./index-DGoHUvnz.js";import"./index-B6CEkk6e.js";import"./dropdown-menu-Tq8a0yXY.js";import"./check-BXs0fvED.js";import"./ellipsis-DhnphtJW.js";import"./index-BGTkwgMY.js";import"./avatar-ClwpyCmP.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nt=Be("calendar",it),rt=({id:c,name:p,position:j,purok:v,term:S,phone:x,email:w,image:b,onView:O,onDelete:f,onEdit:T})=>{const N=b instanceof File?URL.createObjectURL(b):b?`/storage/${b}`:"/images/default-avatar.jpg";return e.jsxs("div",{className:"group relative flex flex-col h-full bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:[e.jsx("div",{className:"h-24 bg-gradient-to-r from-blue-600 to-indigo-600 relative",children:e.jsx("button",{onClick:E=>{E.stopPropagation(),f(c)},className:"absolute top-3 right-3 p-1.5 bg-white/20 hover:bg-red-500 text-white rounded-full backdrop-blur-md transition-all duration-200 opacity-0 group-hover:opacity-100",title:"Delete Official",children:e.jsx(ie,{className:"w-4 h-4"})})}),e.jsx("div",{className:"flex justify-center -mt-12 relative z-10",children:e.jsx("div",{className:"p-1.5 bg-white rounded-full shadow-sm",children:e.jsx("img",{src:N,alt:p,className:"w-24 h-24 rounded-full object-cover border-2 border-gray-100 bg-gray-50"})})}),e.jsxs("div",{className:"flex-grow flex flex-col px-5 pt-3 pb-6 text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 leading-tight truncate",title:p,children:Fe(p)}),e.jsx("p",{className:"text-sm font-medium text-indigo-600 uppercase tracking-wide mt-1",children:j})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 bg-gray-50 rounded-lg p-3 mb-4 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center border-r border-gray-200 pr-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 mb-1",children:[e.jsx(Re,{className:"w-3 h-3"}),e.jsx("span",{children:"Purok"})]}),e.jsx("span",{className:"font-semibold text-gray-800 truncate w-full",children:v})]}),e.jsxs("div",{className:"flex flex-col items-center pl-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-400 mb-1",children:[e.jsx(nt,{className:"w-3 h-3"}),e.jsx("span",{children:"Term"})]}),e.jsx("span",{className:"font-semibold text-gray-800 truncate w-full",children:S})]})]}),e.jsxs("div",{className:"space-y-2 mb-4 w-full",children:[x?e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-600 bg-white border border-gray-100 py-1.5 px-3 rounded-md",children:[e.jsx(Le,{className:"w-3.5 h-3.5 text-indigo-500"}),e.jsx("span",{className:"truncate",children:x})]}):e.jsx("div",{className:"h-8"}),w&&e.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-600 bg-white border border-gray-100 py-1.5 px-3 rounded-md",children:[e.jsx(Pe,{className:"w-3.5 h-3.5 text-indigo-500"}),e.jsx("span",{className:"truncate",children:w})]})]}),e.jsxs("div",{className:"mt-auto grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>T(c),className:"py-2 px-4 rounded-lg border border-gray-200 text-gray-700 text-xs font-semibold hover:border-indigo-500 hover:text-indigo-600 hover:bg-indigo-50 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>O(c),className:"py-2 px-4 rounded-lg bg-indigo-600 text-white text-xs font-semibold hover:bg-indigo-700 shadow-sm hover:shadow transition-all",children:"View"})]})]})]})},lt=({isOpen:c,onClose:p,title:j,children:v})=>c?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:p}),e.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:j}),e.jsx("button",{onClick:p,className:"text-gray-500 hover:text-gray-700",children:e.jsx(ie,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 overflow-y-auto max-h-[80vh]",children:v})]})]}):null,os=({officials:c,residents:p,puroks:j,activeterms:v,terms:S,queryParams:x})=>{const w=[{label:"Barangay Resources",showOnMobile:!1},{label:"Officials",showOnMobile:!0}],b=Ue();x=x||{};const[O,f]=d.useState(!1),[T,N]=d.useState(!1),[E,ne]=d.useState(!1),[$,P]=d.useState(null),[k,V]=d.useState(null),[A,re]=d.useState(!1),[le,D]=d.useState(!1),[X,oe]=d.useState(null),[I,de]=d.useState(x.term??""),[me,U]=d.useState(c.reduce((t,s)=>(t[s.id]=s.status==="active",t),{})),g=Te().props,M=(g==null?void 0:g.success)??null,F=(g==null?void 0:g.error)??null,ce=(t,s)=>{s&&s.trim()!==""?x[t]=s:delete x[t],x.page&&delete x.page,q.get(route("barangay_official.index",x))},{data:r,setData:n,post:z,errors:o,processing:R,reset:xe,clearErrors:pe}=Ee({resident_name:"",resident_id:"",resident_image:"",position:"",designations:[],term:"",new_term_start:"",new_term_end:"",contact_number:"",email:"",appointment_type:"",appointted_by:"",appointment_reason:"",remarks:"",official_id:"",_method:void 0}),u=t=>{n(t.target.name,t.target.value)},ge=He(p,n),ue=async t=>{try{const s=await L.get(`${b}/resident/showresident/${t}`);P(s.data.resident),f(!0)}catch(s){console.error("Error fetching resident details:",s)}},H=t=>{oe(t),D(!0)},he=()=>{q.delete(route("barangay_official.destroy",X),{onError:t=>{console.error("Validation Errors:",t);const s=Object.values(t).join("<br />");h.error("Validation Error",{description:e.jsx("span",{dangerouslySetInnerHTML:{__html:s}}),duration:3e3,closeButton:!0})}}),D(!1)},B=(t,s,a,i)=>{const l=[...r[i]||[]];l[s]={...l[s],[a]:t.target.value},n(i,l)},be=()=>{n("designations",[...r.designations||[],{}])},fe=t=>{const s=[...r.designations||[]];s.splice(t,1),n("designations",s),h.warning("Designation removed.",{duration:2e3})},je=()=>{N(!0),f(!0)},Y=async t=>{try{const a=(await L.get(`${b}/barangay_official/officialsinfo/${t}`)).data.official;V(a),console.log(a),n("resident_id",a.resident.id||""),n("resident_name",`${a.resident.firstname} ${a.resident.middlename} ${a.resident.lastname} ${a.resident.suffix??""}`),n("contact_number",a.resident.contact_number||""),n("email",a.resident.email||""),n("position",a.position||""),n("designations",(a.designation||[]).map(i=>({designation:i.purok_id||"",term_start:i.started_at||"",term_end:i.ended_at||""}))),n("term",a.term.id?a.term.id.toString():""),n("resident_image",a.resident.resident_picture_path||""),n("appointment_type",a.appointment_type||""),a.appointment_type==="appointed"?(n("appointted_by",a.appointted_by?a.appointted_by.toString():""),n("appointment_reason",a.appointment_reason||""),n("remarks",a.remarks||"")):(n("appointted_by",""),n("appointment_reason",""),n("remarks","")),n("_method","PUT"),n("official_id",a.id),f(!0),N(!0)}catch(s){console.error("There was an error fetching the data!",s)}},ve=Object.entries(ee).map(([t,s])=>({label:s,value:t.toString()})),Ne=Array.from(new Set(j)).map(t=>({label:"Purok "+t,value:t.toString()})),G=p.map(t=>({label:`${t.firstname} ${t.middlename} ${t.lastname} ${t.suffix??""}`,value:t.id.toString()})),ye=v.map(t=>({label:`${t.term_start} - ${t.term_end}`,value:t.id.toString()})),_e=S.map(t=>({label:`${t.term_start} - ${t.term_end}`,value:t.id.toString()}));d.useEffect(()=>{r.appointment_type!=="appointed"&&n(t=>({...t,appointted_by:"",appointment_reason:""}))},[r.appointment_type]);const C=()=>{f(!1),P(null),V(null),N(!1),xe(),pe()},we=t=>{t.preventDefault(),z(route("barangay_official.store"),{onError:s=>{console.error("Validation Errors:",s);const a=Object.values(s);h.error("Validation Error",{description:e.jsx("ul",{children:a.map((i,l)=>e.jsx("li",{children:i},l))})})},onSuccess:()=>{C()}})},ke=t=>{t.preventDefault(),z(route("barangay_official.update",r.official_id),{onError:s=>{console.error("Validation Errors:",s);const a=Object.values(s);h.error("Validation Error",{description:e.jsx("ul",{children:a.map((i,l)=>e.jsx("li",{children:i},l))})})},onSuccess:()=>{C()}})},K=c.reduce((t,s)=>{const a=ee[s.position]||"Others";return t[a]||(t[a]=[]),t[a].push(s),t},{}),J=[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"position",label:"Position"},{key:"sex",label:"Sex"},{key:"status",label:"Status"},{key:"term",label:"Term"},{key:"designation",label:"Designation"},{key:"contact_number",label:"Contact Number"},{key:"actions",label:"Actions"}],Ce=J.map(t=>t.key),[Se,ot]=d.useState(Ce),Oe={id:t=>e.jsx("span",{className:"text-gray-700 font-medium",children:t.id}),name:t=>{const s=t.resident,a=`${s.firstname} ${s.middlename??""} ${s.lastname}${s.suffix?", "+s.suffix:""}`;return e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:a})},position:t=>e.jsx("span",{className:"px-2 py-1 rounded-md bg-blue-50 text-blue-700 text-xs font-semibold capitalize",children:t.position.replace(/_/g," ")}),sex:t=>e.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-semibold capitalize "+(t.resident.sex==="male"?"bg-indigo-50 text-indigo-700":"bg-pink-50 text-pink-700"),children:t.resident.sex}),status:t=>{const s=me[t.id]??t.status==="active",a=i=>{U(l=>({...l,[t.id]:i})),L.patch(`/barangayofficial/${t.id}/toggle-status`,{status:i?"active":"inactive"}).then(l=>{h[l.data.success?"success":"error"](l.data.message,{duration:3e3,closeButton:!0})}).catch(()=>{h.error("Failed to update status.",{duration:3e3,closeButton:!0}),U(l=>({...l,[t.id]:!i}))})};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{checked:s,onCheckedChange:a,className:"bg-gray-200 hover:bg-gray-300"}),e.jsx("span",{className:`text-xs font-semibold ${s?"text-green-700":"text-red-700"}`,children:s?"ACTIVE":"INACTIVE"})]})},term:t=>{var s,a;return e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:(s=t.term)!=null&&s.term_start&&((a=t.term)!=null&&a.term_end)?`${t.term.term_start} - ${t.term.term_end}`:"—"})},designation:t=>{var a;if(!((a=t.active_designations)!=null&&a.length))return e.jsx("span",{className:"text-gray-500",children:"—"});const s=t.active_designations[0].purok;return e.jsx("span",{className:"px-2 py-1 rounded-md bg-purple-50 text-purple-700 text-xs font-semibold",children:s?`Purok ${s.purok_number}`:"—"})},contact_number:t=>e.jsx("span",{className:`text-sm font-medium ${t.resident.contact_number?"text-gray-700":"text-gray-400 italic"}`,children:t.resident.contact_number||"No contact number available"}),actions:t=>e.jsx(Ze,{actions:[{label:"Edit",icon:e.jsx(st,{className:"w-4 h-4 text-green-600"}),onClick:()=>Y(t.id)},{label:"Delete",icon:e.jsx(at,{className:"w-4 h-4 text-red-600"}),onClick:()=>H(t.id)}],className:"flex justify-center"})};return d.useEffect(()=>{M&&(C(),h.success(M,{description:"Operation successful!",duration:3e3,closeButton:!0})),g.success=null},[M]),d.useEffect(()=>{F&&h.error(F,{description:"Operation failed!",duration:3e3,closeButton:!0}),g.error=null},[F]),e.jsxs(Ae,{children:[e.jsx($e,{title:"Barangay Infrastructure"}),e.jsx(Me,{breadcrumbs:w}),e.jsx(Ke,{richColors:!0}),e.jsxs("div",{className:"pt-4 mb-10",children:[e.jsx("div",{className:"mx-auto max-w-8xl px-2 sm:px-4 lg:px-6",children:e.jsxs("div",{className:"shadow-sm rounded-xl sm:rounded-lg p-4 m-0",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-0",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-full",children:e.jsx(De,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-900",children:"Barangay Officials Overview"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Review, filter, and manage current and past barangay officials efficiently."})]})]}),e.jsxs("div",{className:"flex items-center w-full md:w-auto gap-3",children:[e.jsx("div",{className:"w-full md:w-[280px]",children:e.jsx(_,{id:"term_filter",name:"term_filter",placeholder:"Filter by Terms",value:I,onChange:t=>{ce("term",t.target.value),de(t.target.value)},className:"w-full",items:_e})}),e.jsxs(et,{onClick:je,size:"lg",className:"bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(tt,{}),"Add Official"]})]})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 m-0",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-16",children:[!I&&e.jsx("div",{className:"max-w-lg mx-auto p-10 text-center bg-yellow-50 rounded-2xl border border-dashed border-yellow-300",children:e.jsx("p",{className:"text-yellow-600 font-medium",children:"Select a term for the chart to view."})}),I&&Object.keys(K).map(t=>{const s=K[t],a=s.length===1;return e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-6 duration-700",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center mb-10 text-center",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-gray-800 tracking-tight mb-2 uppercase relative inline-block",children:t}),e.jsx("div",{className:"w-24 h-1 bg-indigo-600 rounded-full mb-4"}),e.jsxs("span",{className:"px-4 py-1 bg-indigo-50 text-indigo-700 text-xs font-bold rounded-full border border-indigo-100 uppercase tracking-wider shadow-sm",children:[s.length," ",s.length===1?"Official":"Officials"]})]}),s.length>0?e.jsx("div",{className:a?"flex justify-center w-full":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 justify-items-center",children:s.map(i=>{var l,Q,W,Z;return e.jsx("div",{className:"w-full max-w-[320px]",children:e.jsx(rt,{id:i.id,onView:()=>ue(i.resident.id),onEdit:()=>Y(i.id),onDelete:()=>H(i.id),name:`${i.resident.firstname} ${i.resident.middlename?i.resident.middlename.charAt(0).toUpperCase()+".":""} ${i.resident.lastname}`,position:t,purok:((Q=(l=i.active_designations[0])==null?void 0:l.purok)==null?void 0:Q.purok_number)||"N/A",term:`${((W=i.term)==null?void 0:W.term_start)||"0000"} – ${((Z=i.term)==null?void 0:Z.term_end)||"0000"}`,phone:i.resident.contact_number,email:i.resident.email,image:i.resident.resident_picture_path})},i.id)})}):e.jsx("div",{className:"max-w-lg mx-auto p-10 text-center bg-gray-50 rounded-2xl border border-dashed border-gray-300",children:e.jsx("p",{className:"text-gray-400 font-medium italic",children:"No officials found for this position."})})]},t)})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-5 bg-gray-50 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-xl shadow-sm",children:e.jsx(Ie,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-extrabold text-gray-800 tracking-tight",children:"Barangay Officials Directory"}),e.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Complete list of current active officials"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-white text-gray-600 rounded-md shadow-sm",children:["Total: ",(c==null?void 0:c.length)||0]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"inline-block min-w-full align-middle",children:e.jsx(We,{passedData:c,allColumns:J,columnRenderers:Oe,visibleColumns:Se,showTotal:!0})})}),e.jsx("div",{className:"px-6 py-3 bg-gray-50"})]})]})]})}),e.jsxs(Ve,{isOpen:O,onClose:()=>C(),title:$?"Resident Details":k?"Edit Official":"Add Official",children:[$&&e.jsx(Xe,{person:$}),T&&e.jsxs("form",{onSubmit:k?ke:we,className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-medium text-gray-700",children:"Barangay Officials Information"}),e.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Please provide details about the elected and appointed officials serving in the barangay, including their positions, terms, and responsibilities."}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex flex-col  items-center",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(ze,{htmlFor:"resident_image",value:"Resident Photo"}),e.jsx("img",{src:r.resident_image instanceof File?URL.createObjectURL(r.resident_image):r.resident_image?`/storage/${r.resident_image}`:"/images/default-avatar.jpg",alt:"Resident Image",className:"w-64 h-64 object-cover rounded-full border border-gray-200"})]}),e.jsx(m,{message:o.resident_image,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col gap-4 flex-1",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"resident_name",children:"Full Name"}),e.jsx(te,{id:"resident_name",name:"resident_name",placeholder:"Enter full name",value:r.resident_name||"",onChange:t=>ge(t),items:G}),e.jsx(m,{message:o.resident_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"position",children:"Position"}),e.jsx(_,{id:"position",name:"position",value:r.position,onChange:u,items:ve,children:e.jsx("option",{value:"",disabled:!0,children:"Select barangay position"})}),e.jsx(m,{message:o.position,className:"mt-2"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",htmlFor:"designation",children:"Phone Number"}),e.jsx(y,{id:"contact_number",name:"contact_number",type:"text",placeholder:"09XXXXXXXXX",value:r.contact_number||"",onChange:u,disabled:!0}),e.jsx(m,{message:o.contact_number,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",htmlFor:"designation",children:"Email"}),e.jsx(y,{id:"email",name:"email",type:"email",placeholder:"test@gmail.com",value:r.email||"",onChange:u,disabled:!0}),e.jsx(m,{message:o.email,className:"mt-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"term",children:"Official Term"}),e.jsx(_,{id:"term",name:"term",placeholder:"Select term of official",value:r.term||"",onChange:u,items:ye}),e.jsx(m,{message:o.term,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"appointment_type",children:"Appointment Type"}),e.jsx(_,{id:"appointment_type",name:"appointment_type",value:r.appointment_type||"",onChange:u,items:[{label:"Elected",value:"elected"},{label:"Appointed",value:"appointed"},{label:"Succession",value:"succession"}]}),e.jsx(m,{message:o.appointment_type,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 col-span-2",children:[e.jsx(ae,{checked:A,onCheckedChange:re}),e.jsx("span",{className:"text-sm text-gray-700",children:A?"Hide New Term":"Add New Term (Not Found)"})]}),e.jsx("div",{className:`transition-all duration-300 overflow-hidden col-span-2 ${A?"max-h-96 opacity-100 mt-4":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx(y,{type:"number",label:"Start Year",name:"new_term_start",value:r.new_term_start||"",onChange:t=>n("new_term_start",t.target.value),placeholder:"e.g., 2024"}),e.jsx(m,{message:o.new_term_start,className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(y,{type:"number",label:"End Year",name:"new_term_end",value:r.new_term_end||"",onChange:t=>n("new_term_end",t.target.value),placeholder:"e.g., 2027"}),e.jsx(m,{message:o.new_term_end,className:"mt-1"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter the years to create a new barangay term. This will be saved and selectable after submission."})]})})]}),["barangay_kagawad","sk_kagawad"].includes(r.position)&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[(r.designations||[]).map((t,s)=>e.jsxs("div",{className:"items-start pr-8 rounded-md relative",children:[e.jsxs("div",{children:[e.jsx(_,{id:"designation",name:"designation",label:"Designation",value:t.designation||"",onChange:a=>B(a,s,"designation","designations"),items:Ne.map((a,i)=>({...a,key:i}))}),e.jsx(m,{message:o[`designations.${s}.designation`],className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(se,{id:"term_start",name:"term_start",label:"Term Start",value:t.term_start||"",onChange:a=>B(a,s,"term_start","designations"),className:"w-full"}),e.jsx(m,{message:o[`designations.${s}.term_start`],className:"mt-2"})]}),e.jsx("div",{children:e.jsx(se,{id:"term_end",name:"term_end",label:"Term Ended",value:t.term_end||"",onChange:a=>B(a,s,"term_end","designations"),className:"w-full"})}),e.jsx("button",{type:"button",onClick:()=>fe(s),className:"absolute top-1 right-2 flex items-center gap-1 text-2xl text-red-400 hover:text-red-800 font-medium mt-1 mb-5 transition-colors duration-200",title:"Remove",children:e.jsx(Je,{})})]},s)),e.jsxs("button",{type:"button",onClick:()=>be(),className:"flex items-center text-blue-600 hover:text-blue-800 text-sm mt-2",title:"Add Designation",children:[e.jsx(Qe,{className:"text-4xl"}),e.jsx("span",{className:"ml-1",children:"Add Designation"})]})]}),r.appointment_type==="appointed"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 items-start",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"appointted_by",children:"Appointed By"}),e.jsx(te,{id:"appointted_by",name:"appointted_by",placeholder:"Enter full name",value:r.appointted_by||"",onChange:t=>u(t),items:G}),e.jsx(m,{message:o.appointted_by,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"remarks",children:"Remarks"}),e.jsx(y,{id:"remarks",name:"remarks",value:r.remarks,onChange:u}),e.jsx(m,{message:o.remarks,className:"mt-2"})]}),e.jsxs("div",{className:"grid col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:"appointment_reason",children:"Appointment Reason"}),e.jsx(Ge,{id:"appointment_reason",name:"appointment_reason",value:r.appointment_reason,onChange:u}),e.jsx(m,{message:o.appointment_reason,className:"mt-2"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700",disabled:R,children:k?R?"Updating...":"Update":R?"Saving...":"Save"})})]})]}),e.jsx(lt,{isOpen:E,onClose:()=>ne(!1),title:"Edit Barangay Official",children:k&&e.jsx(Ye,{})}),e.jsx(qe,{isOpen:le,onClose:()=>D(!1),onConfirm:he,residentId:X})]})]})};export{os as default};
