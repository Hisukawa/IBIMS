import{j as i,L as p,S as w}from"./app-DMmsW-A6.js";import{S as x}from"./AdminLayout-s2Bg1gEI.js";import g from"./BreadcrumbsHeader-CQRb1WyO.js";import{T as d}from"./TableSection-wm9Rzofq.js";import n from"./DynamicTable-CnF2Nh-V.js";import{B as u}from"./BarangayFilterCard-CVuVSlTx.js";import{N as f}from"./NoDataPlaceholder-CPu-rcqX.js";import{B as j}from"./button-D_fqYeI3.js";import{F as k}from"./file-spreadsheet-CIeUfX7D.js";import{C as N}from"./chart-column-1zNrRNWz.js";import{c as v}from"./createLucideIcon-DSuPfUAD.js";import"./sidebar-BiiRPV0L.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./input-D-aSGzhB.js";import"./index-qc4Eloka.js";import"./index-Dnxev_1w.js";import"./floating-ui.react-dom-8IMhXsT1.js";import"./x-rjPTyOHx.js";import"./tooltip-DThek2hS.js";import"./nav-user-CEblRaG9.js";import"./avatar-BndQxUS4.js";import"./dropdown-menu-Cgkeayzc.js";import"./check-BJLNsZCV.js";import"./chevron-right-eZaM9hCd.js";import"./useAppUrl-CXIdVTwR.js";import"./index-e775IZAD.js";import"./DeleteConfirmationModal-D4cJmc7b.js";import"./file-text-CxtLRQ9w.js";import"./users-round-D7-pb-rw.js";import"./heart-pulse-DBAzLY-n.js";import"./chevron-up-D6aks0ux.js";import"./breadcrumb-DDzvfMYC.js";import"./card-DNoXSFtq.js";import"./SelectField-DLYOq2uw.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"m10 11 11 .9a1 1 0 0 1 .8 1.1l-.665 4.158a1 1 0 0 1-.988.842H20",key:"she1j9"}],["path",{d:"M16 18h-5",key:"bq60fd"}],["path",{d:"M18 5a1 1 0 0 0-1 1v5.573",key:"1kv8ia"}],["path",{d:"M3 4h8.129a1 1 0 0 1 .99.863L13 11.246",key:"1q1ert"}],["path",{d:"M4 11V4",key:"9ft8pt"}],["path",{d:"M7 15h.01",key:"k5ht0j"}],["path",{d:"M8 10.1V4",key:"1jgyzo"}],["circle",{cx:"18",cy:"18",r:"2",key:"1emm8v"}],["circle",{cx:"7",cy:"15",r:"5",key:"ddtuc"}]],T=v("tractor",D);function di({livelihoodStats:s,overallLivelihoodStats:o,barangays:b=[],selectedBarangay:m,queryParams:l}){const y=[{label:"Dashboard",showOnMobile:!0}];l=l||{};const h=!s||s.length===0,c=t=>{const e=t.target.value;w.get(route("cdrrmo_admin.livelihood"),e?{barangay_id:e}:{})},_=()=>{const t=sessionStorage.getItem("cra_year")||selectedYear||new Date().getFullYear(),r=`${window.location.origin}/cdrrmo_admin/cra/livelihood-summary/pdf?year=${t}`;window.open(r,"_blank")};return i.jsxs(x,{children:[i.jsx(p,{title:"Admin Dashboard"}),i.jsx(g,{breadcrumbs:y}),i.jsx("div",{className:"pt-8 pb-2 min-h-screen bg-gray-50",children:i.jsx("div",{className:"mx-auto w-full",children:h?i.jsx(f,{tip:"Use the year selector above to navigate to a year with available data."}):i.jsxs(i.Fragment,{children:[i.jsx(u,{selectedBarangay:m,handleBarangayChange:c,barangays:b}),o&&o.length>0&&i.jsxs(d,{icon:i.jsx(N,{}),color:"blue",title:"Overall Livelihood Distribution (All Barangays)",description:"Total number of individuals engaged in each livelihood type across all barangays.",tableProps:{component:n,passedData:o,allColumns:[{key:"number",label:"No."},{key:"livelihood_type",label:"Livelihood Type"},{key:"male_without_disability",label:"Male w/o Disability"},{key:"male_with_disability",label:"Male w/ Disability"},{key:"female_without_disability",label:"Female w/o Disability"},{key:"female_with_disability",label:"Female w/ Disability"},{key:"lgbtq_without_disability",label:"LGBTQ w/o Disability"},{key:"lgbtq_with_disability",label:"LGBTQ w/ Disability"},{key:"total",label:"Total"}],columnRenderers:{number:t=>i.jsx("span",{className:"font-semibold text-gray-700",children:t.number}),livelihood_type:t=>i.jsx("span",{className:"font-semibold text-gray-700",children:t.livelihood_type}),male_without_disability:t=>i.jsx("span",{className:"text-gray-700",children:t.male_without_disability}),male_with_disability:t=>i.jsx("span",{className:"text-gray-700",children:t.male_with_disability}),female_without_disability:t=>i.jsx("span",{className:"text-gray-700",children:t.female_without_disability}),female_with_disability:t=>i.jsx("span",{className:"text-gray-700",children:t.female_with_disability}),lgbtq_without_disability:t=>i.jsx("span",{className:"text-gray-700",children:t.lgbtq_without_disability}),lgbtq_with_disability:t=>i.jsx("span",{className:"text-gray-700",children:t.lgbtq_with_disability}),total:t=>i.jsx("span",{className:"font-semibold text-blue-500",children:t.total})},queryParams:l,visibleColumns:["number","livelihood_type","male_without_disability","male_with_disability","female_without_disability","female_with_disability","lgbtq_without_disability","lgbtq_with_disability","total"],showTotal:!0,tableHeight:"400px"},children:[" ",i.jsxs(j,{onClick:_,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg shadow-sm transition duration-200",children:[i.jsx(k,{className:"w-5 h-5"}),"Export Data"]})]}),m&&s.map(t=>{const e=[{key:"livelihood_type",label:"Livelihood Type"},{key:"male_without_disability",label:"Male w/o Disability"},{key:"male_with_disability",label:"Male w/ Disability"},{key:"female_without_disability",label:"Female w/o Disability"},{key:"female_with_disability",label:"Female w/ Disability"},{key:"lgbtq_without_disability",label:"LGBTQ w/o Disability"},{key:"lgbtq_with_disability",label:"LGBTQ w/ Disability"},{key:"total",label:"Total"}],r={livelihood_type:a=>i.jsx("span",{className:"font-semibold text-gray-700",children:a.livelihood_type}),male_without_disability:a=>i.jsx("span",{className:"text-gray-700",children:a.male_without_disability}),male_with_disability:a=>i.jsx("span",{className:"text-gray-700",children:a.male_with_disability}),female_without_disability:a=>i.jsx("span",{className:"text-gray-700",children:a.female_without_disability}),female_with_disability:a=>i.jsx("span",{className:"text-gray-700",children:a.female_with_disability}),lgbtq_without_disability:a=>i.jsx("span",{className:"text-gray-700",children:a.lgbtq_without_disability}),lgbtq_with_disability:a=>i.jsx("span",{className:"text-gray-700",children:a.lgbtq_with_disability}),total:a=>i.jsx("span",{className:"font-semibold text-blue-500",children:a.total})};return i.jsx(d,{icon:i.jsx(T,{}),color:"green",title:`Livelihoods - ${t.barangay_name}`,description:`Detailed livelihood statistics for ${t.barangay_name}`,tableProps:{component:n,passedData:t.livelihoods,allColumns:e,columnRenderers:r,queryParams:l,visibleColumns:e.map(a=>a.key),showTotal:!0,tableHeight:"400px"}},`${t.barangay_name}-${t.number}`)})]})})})]})}export{di as default};
