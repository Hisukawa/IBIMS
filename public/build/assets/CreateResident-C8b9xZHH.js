import{m as j,r as b,j as t,K as w,L as S}from"./app-1D8iD4Bd.js";import k from"./BreadcrumbsHeader-DgXCu5t1.js";import"./index-CqHJtAg4.js";import{B as N}from"./button-CIPAcQX6.js";import{S as I,a as B,b as C}from"./Section3-DsqT5LJk.js";import{S as E}from"./Section4-C2cqVFFX.js";import{S as M}from"./Section5-BxqzZ1U2.js";import{C as R}from"./Checkbox-DbqtGyT3.js";import{S as D}from"./AdminLayout-D2OUv8TI.js";import"./breadcrumb-B6RqPXZT.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./chevron-right-HnAL0H-e.js";import"./createLucideIcon-BiNpe3Fv.js";import"./sidebar-Din6F5Y0.js";import"./input-kPHXScB2.js";import"./index-DdMSQcBT.js";import"./floating-ui.react-dom-C_drr5GO.js";import"./x-CBK5N6LO.js";import"./tooltip-D3jKv7IU.js";import"./InputField-ukapFqiG.js";import"./InputError-3CF4LoPd.js";import"./InputLabel-D4d-A-Q6.js";import"./DropdownInputField-Ce50TrN3.js";import"./RadioGroup-CmY4ZP7J.js";import"./SelectField-SZyugf8k.js";import"./YearDropdown-DxHOvvsR.js";import"./index-BPnZ7Gsy.js";import"./iconBase-CE4aS9vF.js";import"./stringFormat-Dx_XIxG1.js";import"./index-CnZBewDf.js";import"./useAppUrl-i6TCu06O.js";import"./switch-CnBumRYF.js";import"./index-C7nBWhXB.js";import"./nav-user-BRbHpYkz.js";import"./avatar-afxv1LQ4.js";import"./dropdown-menu-DHdyJ-GF.js";import"./check-DT87XVe5.js";import"./DeleteConfirmationModal-CegdaycO.js";import"./file-text-I2mjrmGk.js";import"./users-round-D33dYjXx.js";import"./heart-pulse-C1qA0-se.js";import"./chevron-up-BVnRNQGF.js";const O=({puroks:u,occupationTypes:c=null,streets:h=null,households:a=null,barangays:p=null,familyHeads:f=null})=>{const{data:e,setData:o,post:d,errors:l}=j({resident_image:null,lastname:"",firstname:"",middlename:"",suffix:"",birthdate:"",age:0,birthplace:"City of Ilagan",civil_status:"",gender:"",sex:"",maiden_middle_name:"",citizenship:"Filipino",religion:"",ethnicity:"",contactNumber:"",email:"",residency_type:"",residency_date:"",is_household_head:0,is_family_head:0,verified:0,purok_number:null,purok_id:null,street_id:null,street_name:"",subdivision:"",housenumber:null,household_id:null,is_4ps_benificiary:null,is_solo_parent:null,solo_parent_id_number:"",voter_id_number:"",voting_status:"",registered_voter:0,registered_barangay:null,employment_status:"",has_vehicle:null,vehicles:[],educational_histories:[],occupations:[],is_pensioner:"",osca_id_number:"",pension_type:"",living_alone:null,weight_kg:0,height_cm:0,bmi:0,nutrition_status:"",emergency_contact_name:"",emergency_contact_number:"",emergency_contact_relationship:"",blood_type:"",has_philhealth:null,philhealth_number:"",is_pwd:null,pwd_id_number:"",is_alcohol_user:null,is_smoker:null,disabilities:[],livelihoods:[],relationship_to_head:"",household_position:"",name_of_head:"",new_housenumber:"",philsys_card_number:""}),g=s=>{s.preventDefault(),d(route("resident.store"),{onSuccess:()=>{console.log("Successfully submitted!")},onError:r=>{console.log("error",r)}})},x=["female"].includes(e.sex)&&["married","widowed","Separated"].includes(e.civil_status),_=(s,r,n,i)=>{const m=[...e[i]||[]];m[r]={...m[r],[n]:s.target.value},o(i,m)};return b.useEffect(()=>{if(e.weight_kg>0&&e.height_cm>0){const s=e.height_cm/100,r=e.weight_kg/(s*s),n=r.toFixed(2);let i="";r<16?i="severly_underweight":r>=16&&r<18.5?i="underweight":r>=18.5&&r<25?i="normal":r>=25&&r<30?i="overweight":i="obese",o("bmi",n),o("nutrition_status",i)}else o("bmi",0),o("nutrition_status","")},[e.weight_kg,e.height_cm]),b.useEffect(()=>{var s,r;if(e.housenumber){const n=a.find(i=>i.household.id===Number(e.housenumber));if(n){const{household:i}=n,m={household_id:i.household_id,street_id:i.street_id,street_name:((s=i.street)==null?void 0:s.street_name)||"",purok_id:i.purok_id,purok_number:((r=i.purok)==null?void 0:r.purok_number)||""};Object.entries(m).forEach(([y,v])=>o(y,v))}}},[e.housenumber,a]),t.jsx("div",{children:t.jsxs("form",{onSubmit:g,children:[t.jsx(I,{data:e,setData:o,handleArrayValues:_,errors:l,showMaidenMiddleName:x,barangays:p,puroks:u}),t.jsx(B,{data:e,setData:o,errors:l,handleArrayValues:_}),t.jsx(C,{data:e,setData:o,errors:l,occupationTypes:c}),t.jsx(E,{data:e,setData:o,errors:l}),t.jsx(M,{data:e,setData:o,handleArrayValues:_,errors:l,puroks:u,streets:h,households:a}),t.jsx("section",{className:"space-y-4 border border-gray-200 p-4 rounded-md my-4",children:t.jsxs("label",{className:"flex items-start space-x-2",children:[t.jsx(R,{name:"verified",value:e.verified,checked:e.verified===1||e.verified===!0,onChange:s=>o("verified",s.target.checked?1:0)}),t.jsx("span",{className:"text-sm text-gray-700",children:"I hereby certify that the above information is true and correct to the best of my knowledge. I understand that for the Barangay to carry out its mandate pursuant to Section 394(d)(6) of the Local Government Code of 1991, it must necessarily process my personal information for easy identification of inhabitants, as a tool in planning, and as an updated reference for the number of inhabitants in the Barangay. Therefore, I grant my consent and recognize the authority of the Barangay to process my personal information, subject to the provisions of the Philippine Data Privacy Act of 2012."})]})}),t.jsx("div",{className:"flex w-full justify-center items-center mt-7",children:t.jsx(N,{className:"w-40",type:"submit",disabled:e.verified===0,children:"Submit"})})]})})};function Se({auth:u,puroks:c,occupationTypes:h,streets:a,households:p,barangays:f,familyHeads:e}){const o=[{label:"Residents Information",showOnMobile:!1},{label:"Residents Table",href:route("resident.index"),showOnMobile:!1},{label:"Create a New Resident",showOnMobile:!0}],{errors:d}=w().props;return t.jsxs(D,{children:[t.jsx(S,{title:"Resident Dashboard"}),t.jsx(k,{breadcrumbs:o}),t.jsx("div",{children:t.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:t.jsx("div",{className:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 my-8",children:t.jsxs("div",{className:" my-2 p-5",children:[d.error&&t.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:d.error}),t.jsx(O,{puroks:c,occupationTypes:h,streets:a,households:p,barangays:f,familyHeads:e})]})})})})]})}export{Se as default};
