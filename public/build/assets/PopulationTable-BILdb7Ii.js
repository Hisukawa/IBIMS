import{r as m,j as o,L as q,S as O}from"./app-BDFxb8TA.js";import{S as P,U as _,H as U}from"./AdminLayout-CM3_VNfS.js";import z from"./BreadcrumbsHeader-BjgQDL1u.js";import{T as d}from"./TableSection-Dc-Zf2tP.js";import p from"./DynamicTable-CHhkyrvT.js";import{N as E}from"./NoDataPlaceholder-De9L77lw.js";import{B as I}from"./BarangayFilterCard-CW9Q4xve.js";import{B as K}from"./button-CpOsaw8_.js";import{D as Q}from"./download-D1QN3r2o.js";import{c as f}from"./createLucideIcon-tGOSRdoQ.js";import"./sidebar-DTvw3aXB.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./input-jJkVEZh6.js";import"./index-XCqKAzY-.js";import"./index-DkI8As0p.js";import"./floating-ui.react-dom-CH_KqBmZ.js";import"./x-BwVgvZTi.js";import"./tooltip-w_xHr43J.js";import"./nav-user-BI5LsarM.js";import"./avatar-uAJ5rm9d.js";import"./dropdown-menu-enabQI5J.js";import"./check-BVd6L0zb.js";import"./chevron-right-CYSwUaqK.js";import"./stringFormat-Dx_XIxG1.js";import"./useAppUrl-8JzvxBJd.js";import"./index-BV4yT7DH.js";import"./DeleteConfirmationModal-BmD4yp-x.js";import"./file-text-F4iMt6p7.js";import"./users-round-CP9XJTu1.js";import"./heart-pulse-DPuDzfZz.js";import"./chevron-up-D85Lw7mi.js";import"./breadcrumb-DUDN2ulf.js";import"./card-c1W01v0a.js";import"./SelectField-DYDkNw60.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],W=f("key",V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M10 20h4",key:"ni2waw"}],["path",{d:"M12 16v6",key:"c8a4gj"}],["path",{d:"M17 2h4v4",key:"vhe59"}],["path",{d:"m21 2-5.46 5.46",key:"19kypf"}],["circle",{cx:"12",cy:"11",r:"5",key:"16gxyc"}]],X=f("venus-and-mars",J);function Ge({populationData:h,genderData:j,ageDistributionData:N,houseBuildData:w,houseOwnershipData:k,queryParams:i,barangays:L=[],selectedBarangay:S}){const v=[{label:"Dashboard",showOnMobile:!0}];i=i||{};const y=[{key:"id",label:"No."},{key:"name",label:"Barangay Name"},{key:"total_population",label:"Total Population"},{key:"total_households",label:"Total Households"},{key:"total_families",label:"Total Families"}],[T]=m.useState(y.map(t=>t.key)),C={id:t=>o.jsx("span",{className:"text-xs font-semibold text-gray-500",children:t.number}),name:t=>o.jsx("span",{className:"font-medium text-gray-800",children:t.barangay_name||"—"}),total_population:t=>{var e;return o.jsx("span",{className:"text-gray-700 font-semibold",children:((e=t.total_population)==null?void 0:e.toLocaleString())??"0"})},total_households:t=>{var e;return o.jsx("span",{className:"text-gray-700 font-semibold",children:((e=t.total_households)==null?void 0:e.toLocaleString())??"0"})},total_families:t=>{var e;return o.jsx("span",{className:"text-gray-700 font-semibold",children:((e=t.total_families)==null?void 0:e.toLocaleString())??"0"})}},g=[{key:"id",label:"No."},{key:"name",label:"Barangay Name"},{key:"male",label:"Male"},{key:"female",label:"Female"},{key:"lgbtq",label:"LGBTQ"},{key:"total",label:"Total Population"}],[D]=m.useState(g.map(t=>t.key)),H={id:t=>o.jsx("span",{className:"text-xs font-semibold text-gray-500",children:t.number??"—"}),name:t=>o.jsx("span",{className:`font-medium ${t.barangay_name==="Total"?"text-blue-700 font-bold":"text-gray-800"}`,children:t.barangay_name||"—"}),male:t=>{var a,s;const e=(a=t.genders)==null?void 0:a.find(l=>l.gender.toLowerCase()==="male");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},female:t=>{var a,s;const e=(a=t.genders)==null?void 0:a.find(l=>l.gender.toLowerCase()==="female");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},lgbtq:t=>{var a,s;const e=(a=t.genders)==null?void 0:a.find(l=>l.gender.toLowerCase().includes("lgbtq"));return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},total:t=>{var e;return o.jsx("span",{className:"text-sm font-semibold text-blue-600",children:((e=t.total)==null?void 0:e.toLocaleString())??"0"})}},b=[{key:"id",label:"No."},{key:"name",label:"Barangay Name"},{key:"0_6_mos",label:"0-6 Months"},{key:"7_mos_to_2_yrs",label:"7 Months - 2 Years"},{key:"3_to_5_yrs",label:"3-5 Years"},{key:"6_to_12_yrs",label:"6-12 Years"},{key:"13_to_17_yrs",label:"13-17 Years"},{key:"18_to_59_yrs",label:"18-59 Years"},{key:"60_plus_yrs",label:"60+ Years"},{key:"total",label:"Total Population"}],[F]=m.useState(b.map(t=>t.key)),r={id:t=>o.jsx("span",{className:"text-xs font-semibold text-gray-500",children:t.number??"—"}),name:t=>o.jsx("span",{className:`font-medium ${t.barangay_name==="Total"?"text-blue-700 font-bold":"text-gray-800"}`,children:t.barangay_name||"—"}),getAgeGroupTotal:(t,e)=>{var s;const a=(s=t.age_groups)==null?void 0:s.find(l=>l.age_group===e);return(a==null?void 0:a.total)??0},"0_6_mos":t=>o.jsx("span",{className:"text-gray-700 font-semibold",children:r.getAgeGroupTotal(t,"0_6_mos").toLocaleString()}),"7_mos_to_2_yrs":t=>o.jsx("span",{className:"text-gray-700 font-semibold",children:r.getAgeGroupTotal(t,"7_mos_to_2_yrs").toLocaleString()}),"3_to_5_yrs":t=>o.jsx("span",{className:"text-gray-700 font-semibold",children:r.getAgeGroupTotal(t,"3_to_5_yrs").toLocaleString()}),"6_to_12_yrs":t=>o.jsx("span",{className:"text-gray-700 font-semibold",children:r.getAgeGroupTotal(t,"6_to_12_yrs").toLocaleString()}),"13_to_17_yrs":t=>o.jsx("span",{className:"text-gray-700 font-semibold",children:r.getAgeGroupTotal(t,"13_to_17_yrs").toLocaleString()}),"18_to_59_yrs":t=>o.jsx("span",{className:"text-gray-700 font-semibold",children:r.getAgeGroupTotal(t,"18_to_59_yrs").toLocaleString()}),"60_plus_yrs":t=>o.jsx("span",{className:"text-gray-700 font-semibold",children:r.getAgeGroupTotal(t,"60_plus_yrs").toLocaleString()}),total:t=>{var e;return o.jsx("span",{className:"text-sm font-semibold text-blue-600",children:((e=t.total)==null?void 0:e.toLocaleString())??"0"})}},x=[{key:"id",label:"No."},{key:"barangay",label:"Barangay Name"},{key:"concrete",label:"Concrete"},{key:"semi_concrete",label:"Semi-Concrete"},{key:"wood_light",label:"Made of Wood & Light Materials"},{key:"makeshift",label:"Salvaged / Makeshift"},{key:"total",label:"Total Houses"}],[B]=m.useState(x.map(t=>t.key)),G={id:t=>o.jsx("span",{className:"text-xs font-semibold text-gray-500",children:t.number??"—"}),barangay:t=>o.jsx("span",{className:`font-medium ${t.barangay_name==="Total"?"text-blue-700 font-bold":"text-gray-800"}`,children:t.barangay_name||"—"}),concrete:t=>{var a,s,l,n;const e=(a=t.house_types)==null?void 0:a.find(c=>c.house_type.toLowerCase()==="concrete");return o.jsxs("div",{className:"text-gray-700 text-sm leading-tight",children:[o.jsxs("div",{children:["1F:"," ",o.jsx("span",{className:"font-semibold",children:((s=e==null?void 0:e.one_floor)==null?void 0:s.toLocaleString())??"0"})]}),o.jsxs("div",{children:["2F+:"," ",o.jsx("span",{className:"font-semibold",children:((l=e==null?void 0:e.two_or_more_floors)==null?void 0:l.toLocaleString())??"0"})]}),o.jsxs("div",{className:"text-blue-600 font-bold mt-1",children:["Total: ",((n=e==null?void 0:e.total)==null?void 0:n.toLocaleString())??"0"]})]})},semi_concrete:t=>{var a,s,l,n;const e=(a=t.house_types)==null?void 0:a.find(c=>c.house_type.toLowerCase()==="semi-concrete");return o.jsxs("div",{className:"text-gray-700 text-sm leading-tight",children:[o.jsxs("div",{children:["1F:"," ",o.jsx("span",{className:"font-semibold",children:((s=e==null?void 0:e.one_floor)==null?void 0:s.toLocaleString())??"0"})]}),o.jsxs("div",{children:["2F+:"," ",o.jsx("span",{className:"font-semibold",children:((l=e==null?void 0:e.two_or_more_floors)==null?void 0:l.toLocaleString())??"0"})]}),o.jsxs("div",{className:"text-blue-600 font-bold mt-1",children:["Total: ",((n=e==null?void 0:e.total)==null?void 0:n.toLocaleString())??"0"]})]})},wood_light:t=>{var a,s,l,n;const e=(a=t.house_types)==null?void 0:a.find(c=>c.house_type.toLowerCase().includes("wood"));return o.jsxs("div",{className:"text-gray-700 text-sm leading-tight",children:[o.jsxs("div",{children:["1F:"," ",o.jsx("span",{className:"font-semibold",children:((s=e==null?void 0:e.one_floor)==null?void 0:s.toLocaleString())??"0"})]}),o.jsxs("div",{children:["2F+:"," ",o.jsx("span",{className:"font-semibold",children:((l=e==null?void 0:e.two_or_more_floors)==null?void 0:l.toLocaleString())??"0"})]}),o.jsxs("div",{className:"text-blue-600 font-bold mt-1",children:["Total: ",((n=e==null?void 0:e.total)==null?void 0:n.toLocaleString())??"0"]})]})},makeshift:t=>{var a,s,l,n;const e=(a=t.house_types)==null?void 0:a.find(c=>c.house_type.toLowerCase().includes("makeshift"));return o.jsxs("div",{className:"text-gray-700 text-sm leading-tight",children:[o.jsxs("div",{children:["1F:"," ",o.jsx("span",{className:"font-semibold",children:((s=e==null?void 0:e.one_floor)==null?void 0:s.toLocaleString())??"0"})]}),o.jsxs("div",{children:["2F+:"," ",o.jsx("span",{className:"font-semibold",children:((l=e==null?void 0:e.two_or_more_floors)==null?void 0:l.toLocaleString())??"0"})]}),o.jsxs("div",{className:"text-blue-600 font-bold mt-1",children:["Total: ",((n=e==null?void 0:e.total)==null?void 0:n.toLocaleString())??"0"]})]})},total:t=>{var e;return o.jsx("span",{className:`text-sm font-semibold ${t.barangay_name==="Total"?"text-blue-600":"text-blue-500"}`,children:((e=t.total)==null?void 0:e.toLocaleString())??"0"})}},u=[{key:"id",label:"No."},{key:"barangay",label:"Barangay Name"},{key:"owned_house",label:"Owned (House)"},{key:"owned_land_house",label:"Owned (Land & House)"},{key:"rented",label:"Rented"},{key:"shared_owner",label:"Shared with Owner"},{key:"shared_renter",label:"Shared with Renter"},{key:"informal_settler",label:"Informal Settler Families"},{key:"total",label:"Total Households"}],[A]=m.useState(u.map(t=>t.key)),M={id:t=>o.jsx("span",{className:"text-xs font-semibold text-gray-500",children:t.number??"—"}),barangay:t=>o.jsx("span",{className:`font-medium ${t.barangay_name==="Total"?"text-blue-700 font-bold":"text-gray-800"}`,children:t.barangay_name||"—"}),owned_house:t=>{var a,s;const e=(a=t.ownerships)==null?void 0:a.find(l=>l.ownership_type.toLowerCase()==="owned (house)");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},owned_land_house:t=>{var a,s;const e=(a=t.ownerships)==null?void 0:a.find(l=>l.ownership_type.toLowerCase()==="owned (land and house)");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},rented:t=>{var a,s;const e=(a=t.ownerships)==null?void 0:a.find(l=>l.ownership_type.toLowerCase()==="rented");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},shared_owner:t=>{var a,s;const e=(a=t.ownerships)==null?void 0:a.find(l=>l.ownership_type.toLowerCase()==="shared with owner");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},shared_renter:t=>{var a,s;const e=(a=t.ownerships)==null?void 0:a.find(l=>l.ownership_type.toLowerCase()==="shared with renter");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},informal_settler:t=>{var a,s;const e=(a=t.ownerships)==null?void 0:a.find(l=>l.ownership_type.toLowerCase()==="informal settler families");return o.jsx("span",{className:"text-gray-700 font-semibold",children:((s=e==null?void 0:e.quantity)==null?void 0:s.toLocaleString())??"0"})},total:t=>{var e;return o.jsx("span",{className:`text-sm font-semibold ${t.barangay_name==="Total"?"text-blue-600":"text-blue-500"}`,children:((e=t.total)==null?void 0:e.toLocaleString())??"0"})}},$=!(h!=null&&h.length),R=t=>{const e=t.target.value;O.get(route("cdrrmo_admin.population"),e?{barangay_id:e}:{})},Y=()=>{const t=sessionStorage.getItem("cra_year")||new Date().getFullYear(),a=`${window.location.origin}/cdrrmo_admin/cra/population-overview-summary/pdf?year=${t}`;window.open(a,"_blank")};return o.jsxs(P,{children:[o.jsx(q,{title:"Admin Dashboard"}),o.jsx(z,{breadcrumbs:v}),o.jsx("div",{className:"pt-8 pb-2 min-h-screen bg-gray-50",children:o.jsx("div",{className:"mx-auto w-full",children:$?o.jsx("div",{className:"w-full px-2 sm:px-4 lg:px-6",children:o.jsx(E,{tip:"Use the year selector above to navigate to a year with available data."})}):o.jsxs(o.Fragment,{children:[o.jsx(I,{selectedBarangay:S,handleBarangayChange:R,barangays:L}),o.jsx(d,{icon:o.jsx(_,{}),color:"blue",title:"General Population Overview",description:"Displays summarized data of total population, households, and families across all barangays. The table below provides a clear overview for monitoring and analysis purposes.",tableProps:{component:p,passedData:h,allColumns:y,columnRenderers:C,queryParams:i,visibleColumns:T,showTotal:!0,tableHeight:"500px"},children:o.jsxs(K,{className:"flex items-center gap-2 px-3 py-1.5 bg-red-500 text-white rounded hover:bg-red-600 transition",onClick:Y,children:[o.jsx(Q,{className:"w-4 h-4"}),"Export Data"]})}),o.jsx(d,{icon:o.jsx(X,{}),color:"pink",title:"Population by Gender",description:"Displays the total number of residents categorized by gender for each barangay. This overview helps analyze demographic distribution within the community.",tableProps:{component:p,passedData:j,allColumns:g,columnRenderers:H,queryParams:i,visibleColumns:D,showTotal:!0,tableHeight:"500px"}}),o.jsx(d,{icon:o.jsx(_,{}),color:"green",title:"Population by Age Group",description:"Displays the total population segmented by age group for each barangay. This helps identify age demographics and support age-specific community programs.",tableProps:{component:p,passedData:N,allColumns:b,columnRenderers:r,queryParams:i,visibleColumns:F,showTotal:!0,tableHeight:"500px"}}),o.jsx(d,{icon:o.jsx(U,{}),color:"red",title:"Housing Structure Distribution",description:"Displays the total number of houses categorized by building material and floor levels for each barangay. This data helps assess housing durability and structural safety in the community.",tableProps:{component:p,passedData:w,allColumns:x,columnRenderers:G,queryParams:i,visibleColumns:B,showTotal:!0,tableHeight:"500px"}}),o.jsx(d,{icon:o.jsx(W,{}),color:"green",title:"House Ownership Distribution",description:"Displays the distribution of house ownership types across each barangay. This data helps analyze housing tenure patterns and identify informal settlements within the community.",tableProps:{component:p,passedData:k,allColumns:u,columnRenderers:M,queryParams:i,visibleColumns:A,showTotal:!0,tableHeight:"500px"}})]})})})]})}export{Ge as default};
