import{u as H,r as n,j as e,a as R,K as q}from"./app-OMiIBAVv.js";import{S as B,a as I,b as L,c as V,d as M,e as D,f as v,g as j,h as P,i as U}from"./sidebar-8I0oMIHa.js";import{C as F,N as T}from"./nav-user-CHo7Aeqf.js";import{u as O}from"./useAppUrl-D_iSPAaw.js";import{c as r}from"./createLucideIcon-Axl_0YCz.js";import{H as N,U as Z}from"./users-round-DM5XvS4t.js";import{H as E}from"./heart-pulse-BEye5CQy.js";import{C as G,a as W}from"./chevron-up-aIKK6lnp.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]],J=r("accessibility",K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]],X=r("baby",Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ee=r("briefcase-business",Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],te=r("car-front",ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],oe=r("circle-user",re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],w=r("file-stack",ie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],d=r("file-text",ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 18a3 3 0 1 0-6 0",key:"16awa0"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}]],ce=r("file-user",se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]],de=r("files",le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],ye=r("flag",he);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],pe=r("graduation-cap",ue);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],h=r("layout-dashboard",fe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],ge=r("layout-list",me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v2",key:"stiyo7"}],["path",{d:"M12 13h.01",key:"y0uutt"}]],xe=r("message-square-warning",be);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["path",{d:"m9 20 3-6 3 6",key:"se2kox"}],["path",{d:"m6 8 6 2 6-2",key:"4o3us4"}],["path",{d:"M12 10v4",key:"1kjpxc"}]],_e=r("person-standing",ke);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],ve=r("pill",Me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Ne=r("scale",je);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Se=r("scroll-text",we);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],Ce=r("square-activity",$e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M18 21a6 6 0 0 0-12 0",key:"kaz2du"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Ae=r("square-user-round",ze);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Re=r("stethoscope",He);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],Be=r("syringe",qe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],y=r("table",Ie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["circle",{cx:"7",cy:"7",r:"5",key:"x29byf"}],["circle",{cx:"17",cy:"17",r:"5",key:"1op1d2"}],["path",{d:"M12 17h10",key:"ls21zv"}],["path",{d:"m3.46 10.54 7.08-7.08",key:"1rehiu"}]],Ve=r("tablets",Le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M3 3v2",key:"9imdir"}],["path",{d:"M7 3v2",key:"n0os7"}],["path",{d:"M17 3v2",key:"1l2re6"}],["path",{d:"M21 3v2",key:"1duuac"}],["path",{d:"m19 5-7 7-7-7",key:"133zxf"}]],Pe=r("utility-pole",De),S=[{title:"Admin Dashboard",url:"/barangay_officer/dashboard",icon:h,roles:["barangay_officer"]},{title:"CDRRMO Dashboard",url:"/cdrrmo_admin/dashboard",icon:h,roles:["cdrrmo_admin"]},{title:"Super Admin Dashboard",url:"/super_admin/dashboard",icon:h,roles:["super_admin"]},{title:"Resident Dashboard",url:"/dashboard",icon:h,roles:["resident"]},{title:"Barangay",icon:N,roles:["barangay_officer"],submenu:[{title:"Barangay Profile",url:"/barangay_profile",icon:d,roles:["barangay_officer"]},{title:"Barangay Documents",url:"/document",icon:d,roles:["barangay_officer"]},{title:"Barangay Accounts",url:"/user",icon:oe,roles:["barangay_officer"]}]},{title:"Residents Information",icon:ce,roles:["barangay_officer"],submenu:[{title:"Information Table",url:"/resident",icon:y,roles:["barangay_officer"]},{title:"Senior Citizen",url:"/senior_citizen",icon:Z,roles:["barangay_officer"]},{title:"Families",url:"/family",icon:Ae,roles:["barangay_officer"]},{title:"Households",url:"/household",icon:N,roles:["barangay_officer"]},{title:"Household Overview",url:"/overview",icon:Pe,roles:["barangay_officer"]},{title:"Vehicles",url:"/vehicle",icon:te,roles:["barangay_officer"]},{title:"Education",url:"/education",icon:pe,roles:["barangay_officer"]},{title:"Occupation/Livelihood",url:"/occupation",icon:ee,roles:["barangay_officer"]}]},{title:"Medical Information",icon:E,roles:["barangay_officer"],submenu:[{title:"Information Table",url:"/medical",icon:y,roles:["barangay_officer"]},{title:"Allergies",url:"/allergy",icon:Ve,roles:["barangay_officer"]},{title:"Child Health Records",url:"/child_record",icon:X,roles:["barangay_officer"]},{title:"Medical Condition",url:"/medical_condition",icon:Re,roles:["barangay_officer"]},{title:"Disabilities",url:"/disability",icon:J,roles:["barangay_officer"]},{title:"Medications",url:"/medication",icon:ve,roles:["barangay_officer"]},{title:"Pregnancy Records",url:"/pregnancy",icon:Ce,roles:["barangay_officer"]},{title:"Vaccinations",url:"/vaccination",icon:Be,roles:["barangay_officer"]},{title:"Deaths",url:"/death/index",icon:_e,roles:["barangay_officer"]}]},{title:"Issuance",icon:de,roles:["barangay_officer"],submenu:[{title:"Certificate Issuance",url:"/certificate/index",icon:d,roles:["barangay_officer"]}]},{title:"Katarungang Pambarangay",icon:Ne,roles:["barangay_officer"],submenu:[{title:"Blotter Reports",url:"/blotter_report",icon:Se,roles:["barangay_officer"]},{title:"Summon",url:"/summon",icon:xe,roles:["barangay_officer"]}]},{title:"Reports",url:"/report",icon:ye,roles:["barangay_officer"]},{title:"Community Risk Assessment",icon:w,roles:["cdrrmo_admin","barangay_officer"],submenu:[{title:"Information Table",icon:y,roles:["cdrrmo_admin"]},{title:"Barangay Information Table",url:"/cra/dashboard",icon:y,roles:["barangay_officer"]},{title:"Create",url:"/cra/create",icon:d,roles:["cdrrmo_admin","barangay_officer"]}]},{title:"Certificate Issuance",icon:w,roles:["resident"],url:"/certificates"},{title:"Barangay Accounts",url:"/super_admin/accounts",icon:F,roles:["super_admin"]},{title:"List of Barangays",url:"/super_admin/barangay",icon:ge,roles:["super_admin"]}];function Ue({auth:u}){const s=H(),[f,m]=n.useState(null),[g,$]=n.useState(null),b=O(),x=u.user,k=n.useRef(!1),i=x.roles.map(a=>a.name),C=a=>{if(!a)return"";let t=a.trim();return t.startsWith("/")||(t="/"+t),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t},c=a=>{if(!a)return!1;const t=C(a);return s.pathname===t||s.pathname.startsWith(t+"/")};n.useEffect(()=>{if(!i.includes("barangay_officer")||k.current)return;(async()=>{try{const t=await R.get(`${b}/barangay_profile/barangaydetails`);$(t.data.data),k.current=!0}catch(t){console.error(t)}})()},[b,i]);const p=n.useMemo(()=>S.filter(a=>a.roles.some(t=>i.includes(t))),[S,i]);n.useEffect(()=>{const a=p.findIndex(t=>Array.isArray(t.submenu)&&t.submenu.some(l=>c(l.url)));m(a===-1?null:a)},[s.pathname,JSON.stringify(p)]);const z=a=>{m(t=>t===a?null:a)};return e.jsxs(B,{children:[e.jsxs("div",{className:"bg-white px-4 py-[8px] flex items-center border-b border-gray-200",children:[e.jsx("img",{src:"/images/csa-logo.png",alt:"CSA Logo",className:"h-11 w-11 mr-3"}),e.jsxs("div",{className:"flex flex-col leading-none space-y-0",children:[e.jsx("p",{className:"font-black text-[20px] text-sky-700 font-montserrat m-0 pb-1 leading-none",children:"iBIMS"}),e.jsx("p",{className:"font-light text-sm text-gray-500 font-montserrat m-0 p-0 leading-none",children:i.includes("super_admin")?"Super Admin":i.includes("cdrrmo_admin")?"CDRRMO Admin":g?g.barangay_name:"Loading..."})]})]}),e.jsx(I,{className:"bg-white shadow-lg",children:e.jsxs(L,{children:[e.jsx(V,{className:"text-gray-500 mx-0 mr-4 text-sm",children:"Main Menu"}),e.jsx(M,{children:e.jsx(D,{children:p.map((a,t)=>{var l,_;return e.jsxs("div",{children:[e.jsx(v,{children:e.jsx(j,{asChild:!0,onClick:()=>{var o;return((o=a.submenu)==null?void 0:o.length)>0&&z(t)},children:e.jsxs("a",{href:a.url||"#",className:`flex items-center justify-between w-full my-1 px-2 py-2 rounded-lg transition-all duration-200 ${c(a.url)||a.submenu&&a.submenu.some(o=>c(o.url))?"text-gray-900 font-semibold":"text-gray-700 hover:text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(a.icon,{className:"mr-2 h-5 w-5"}),e.jsx("span",{children:a.title})]}),((l=a.submenu)==null?void 0:l.length)>0&&e.jsx("span",{className:"ml-2",children:f===t?e.jsx(G,{className:"w-4 h-4"}):e.jsx(W,{className:"w-4 h-4"})})]})})}),((_=a.submenu)==null?void 0:_.length)>0&&e.jsx(M,{className:`overflow-hidden transition-all duration-300 ease-in-out ${f===t?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:a.submenu.filter(o=>o.roles.some(A=>i.includes(A))).map(o=>e.jsx(v,{children:e.jsx(j,{asChild:!0,children:e.jsxs("a",{href:o.url,className:`flex items-center pl-8 pr-2 py-2 my-1 rounded-md transition-all duration-200 ${c(o.url)?"bg-gray-200 text-gray-900 font-semibold":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(o.icon,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:o.title})]})})},o.title))})]},a.title)})})})]})}),e.jsx(P,{className:"bg-white border-t border-gray-200",children:e.jsx(T,{user:x})})]})}function Fe({children:u}){const{auth:s}=q().props;return e.jsxs(U,{children:[e.jsx(Ue,{auth:s}),e.jsx("main",{className:"w-full bg-gray-100",children:u})]})}const Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"}));export{J as A,X as B,oe as C,d as F,pe as G,ve as P,Fe as S,ce as a,Re as b,Be as c,Qe as d};
