import{K as v,m as w,j as e,L as N}from"./app-CYjubXcb.js";import S from"./BreadcrumbsHeader-BMzwqHmW.js";import{D as R}from"./DropdownInputField-CcMh3hoO.js";import{I as E}from"./InputError-hVxnGCn3.js";import{I as a}from"./InputField-DRxbRqnW.js";import{I}from"./InputLabel-Xu1eAiq8.js";import{B as c}from"./button-sAotJoLm.js";import"./index-Nkktqz5-.js";import{S as C}from"./Section5-DBWzAnb_.js";import{R as D,q as T}from"./constants-ByT4XGLj.js";import{S as O}from"./AdminLayout--l-KZkcj.js";import{u as $}from"./handleResidentChange-C8dvNQxN.js";import{R as k}from"./rotate-ccw-Bg-FNPfr.js";import"./breadcrumb-1G_dbrY1.js";import"./utils-CkmPJWYF.js";import"./clsx-B-dksMZM.js";import"./chevron-right-gBhi1ZR3.js";import"./createLucideIcon-zwhh55E_.js";import"./sidebar-BpvzJ5lK.js";import"./input-UUEsUVC-.js";import"./index-C4Ke6hAv.js";import"./index-BwJ3XWkn.js";import"./floating-ui.react-dom-CBCZEv9t.js";import"./x-Cy6oWex1.js";import"./tooltip-B8uc5q9P.js";import"./RadioGroup-DRAt1ZyI.js";import"./SelectField-sV6HLf6b.js";import"./YearDropdown-DwWS1toV.js";import"./index-hwSq4bN1.js";import"./iconBase-DN4slCyb.js";import"./useAppUrl-xCAiQ2Jy.js";import"./switch-DDdpe4hu.js";import"./index-D6xKqXSa.js";import"./nav-user-DbQr6VCO.js";import"./avatar-BU9wZrTi.js";import"./dropdown-menu-Bz-zuVkL.js";import"./check-CgFUlvlz.js";import"./stringFormat-Dx_XIxG1.js";import"./DeleteConfirmationModal-Co_8faR_.js";import"./file-text-CJU5yhcd.js";import"./users-round-BtfjTBvk.js";import"./heart-pulse-DDzDHS3k.js";import"./chevron-up-B8LDdSpG.js";function Re({auth:B,puroks:u,streets:h,barangays:F,residents:o}){const x=[{label:"Residents Information",showOnMobile:!1},{label:"Households",href:route("household.index"),showOnMobile:!1},{label:"Create a Household",showOnMobile:!0}],{error:n}=v().props.errors,{data:t,setData:i,post:_,errors:d,reset:m}=w({resident_id:null,resident_name:"",birthdate:"",gender:"",resident_image:null,purok_id:null,street_id:null,street_name:null,residency_date:null,residency_type:null,subdivision:"",housenumber:null,ownership_type:"",housing_condition:"",house_structure:null,year_established:null,number_of_rooms:null,number_of_floors:null,bath_and_wash_area:null,waste_management_types:[{waste_management_type:""}],toilets:[{toilet_type:""}],electricity_types:[{electricity_types:""}],water_source_types:[{water_source_type:""}],type_of_internet:null,relationship_to_head:"",household_position:"",name_of_head:"",has_livestock:null,livestocks:[],has_pets:null,pets:[]}),b=$(o,i),y=r=>{r.preventDefault(),_(route("household.store"),{onSuccess:()=>m(),onError:s=>{console.error("Validation Errors:",s)}})},f=(r,s,j,p)=>{const l=[...t[p]||[]];l[s]={...l[s],[j]:r.target.value},i(p,l)},g=o.map(r=>({label:`${r.firstname} ${r.middlename} ${r.lastname} ${r.suffix??""}`,value:r.id.toString()}));return e.jsxs(O,{children:[e.jsx(N,{title:"Resident Dashboard"}),e.jsx(S,{breadcrumbs:x}),e.jsx("div",{children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-xl sm:rounded-lg p-4 my-8",children:e.jsxs("div",{className:" my-2 p-5",children:[n&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:n}),e.jsx("div",{children:e.jsxs("form",{onSubmit:y,children:[e.jsx("h2",{className:"text-3xl font-semibold text-gray-800 mb-1",children:"Resident Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Search/Select the resident that owns the household."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-y-2 md:gap-x-4 mb-5",children:[e.jsxs("div",{className:"md:row-span-2 flex flex-col items-center space-y-2",children:[e.jsx(I,{htmlFor:"resident_image",value:"Profile Photo"}),e.jsx("img",{src:t.resident_image?`/storage/${t.resident_image}`:"/images/default-avatar.jpg",alt:"Resident Image",className:"w-32 h-32 object-cover rounded-full border border-gray-200"})]}),e.jsxs("div",{className:"md:col-span-5 space-y-2",children:[e.jsxs("div",{className:"w-full",children:[e.jsx(R,{label:"Full Name",name:"fullname",value:t.resident_name||"",placeholder:"Select a resident",onChange:r=>b(r),items:g}),e.jsx(E,{message:d.resident_id,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2",children:[e.jsx("div",{children:e.jsx(a,{label:"Birthdate",name:"birthdate",value:t.birthdate||"",placeholder:"Select a resident",readOnly:!0})}),e.jsx("div",{children:e.jsx(a,{label:"Sex",name:"sex",value:D[t.sex||""],placeholder:"Select a resident",readOnly:!0})}),e.jsx("div",{children:e.jsx(a,{label:"Residentcy Date",name:"residency_date",value:t.residency_date||"",placeholder:"Select a resident",readOnly:!0})}),e.jsx("div",{children:e.jsx(a,{label:"Residentcy Type",name:"residency_type",value:T[t.residency_type||""],placeholder:"Select a resident",readOnly:!0})})]})]})]}),e.jsx(C,{data:t,setData:i,handleArrayValues:f,errors:d,puroks:u,streets:h,head:!0}),e.jsxs("div",{className:"flex w-full justify-end items-center mt-7 gap-4",children:[e.jsxs(c,{type:"button",onClick:()=>m(),children:[e.jsx(k,{})," Reset"]}),e.jsx(c,{className:"w-40 bg-blue-700 hover:bg-blue-400",type:"submit",children:"Submit"})]})]})})]})})})})]})}export{Re as default};
